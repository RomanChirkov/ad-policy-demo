/*!
 * Anvato Universal Player $$PLAYER-VERSION$$
 * Copyright (c) 2022 Google LLC
 * For license information, see ConvivaPlugin.min.js.licenses.txt
 */!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=447)}([,function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(39))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(1),r=n(81),o=n(9),a=n(58),s=n(82),u=n(113),c=r("wks"),h=i.Symbol,l=u?h:h&&h.withoutSetter||a;t.exports=function(t){return o(c,t)||(s&&o(h,t)?c[t]=h[t]:c[t]=l("Symbol."+t)),c[t]}},function(t,e,n){var i=n(1),r=n(35).f,o=n(15),a=n(19),s=n(72),u=n(111),c=n(61);t.exports=function(t,e){var n,h,l,f,p,d=t.target,v=t.global,E=t.stat;if(n=v?i:E?i[d]||s(d,{}):(i[d]||{}).prototype)for(h in e){if(f=e[h],l=t.noTargetGet?(p=r(n,h))&&p.value:n[h],!c(v?h:d+(E?".":"#")+h,t.forced)&&void 0!==l){if(typeof f==typeof l)continue;u(f,l)}(t.sham||l&&l.sham)&&o(f,"sham",!0),a(n,h,f,t)}}},,function(t,e,n){var i=n(29),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(7);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(2);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var i=n(10),r=n(103),o=n(8),a=n(45),s=Object.defineProperty;e.f=i?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var i=n(4),r=n(2),o=n(62),a=n(7),s=n(17),u=n(6),c=n(63),h=n(88),l=n(59),f=n(3),p=n(84),d=f("isConcatSpreadable"),v=p>=51||!r((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),E=l("concat"),g=function(t){if(!a(t))return!1;var e=t[d];return void 0!==e?!!e:o(t)};i({target:"Array",proto:!0,forced:!v||!E},{concat:function(t){var e,n,i,r,o,a=s(this),l=h(a,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(o=-1===e?a:arguments[e],g(o)){if(f+(r=u(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,f++)n in o&&c(l,f,o[n])}else{if(f>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(l,f++,o)}return l.length=f,l}})},,function(t,e,n){var i=n(76),r=n(19),o=n(176);i||r(Object.prototype,"toString",o,{unsafe:!0})},function(t,e,n){var i=n(10),r=n(11),o=n(43);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},,function(t,e,n){var i=n(26);t.exports=function(t){return Object(i(t))}},,function(t,e,n){var i=n(1),r=n(15),o=n(9),a=n(72),s=n(80),u=n(31),c=u.get,h=u.enforce,l=String(String).split("String");(t.exports=function(t,e,n,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||r(n,"name",e),h(n).source=l.join("string"==typeof e?e:"")),t!==i?(u?!f&&t[e]&&(c=!0):delete t[e],c?t[e]=n:r(t,e,n)):c?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},,,,,,function(t,e,n){var i=n(70),r=n(26);t.exports=function(t){return i(r(t))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},,function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){"use strict";var i=n(4),r=n(68).indexOf,o=n(71),a=n(42),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),h=a("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:u||!c||!h},{indexOf:function(t){return u?s.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i,r,o,a=n(173),s=n(1),u=n(7),c=n(15),h=n(9),l=n(60),f=n(57),p=s.WeakMap;if(a){var d=new p,v=d.get,E=d.has,g=d.set;i=function(t,e){return g.call(d,t,e),e},r=function(t){return v.call(d,t)||{}},o=function(t){return E.call(d,t)}}else{var T=l("state");f[T]=!0,i=function(t,e){return c(t,T,e),e},r=function(t){return h(t,T)?t[T]:{}},o=function(t){return h(t,T)}}t.exports={set:i,get:r,has:o,enforce:function(t){return o(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},,,,function(t,e,n){var i=n(10),r=n(98),o=n(43),a=n(25),s=n(45),u=n(9),c=n(103),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=a(t),e=s(e,!0),c)try{return h(t,e)}catch(t){}if(u(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){"use strict";var i=n(19),r=n(8),o=n(2),a=n(93),s=RegExp.prototype,u=s.toString,c=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),h="toString"!=u.name;(c||h)&&i(RegExp.prototype,"toString",(function(){var t=r(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in s)?a.call(t):n)}),{unsafe:!0})},,,function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},,function(t,e,n){var i=n(112),r=n(1),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t])||o(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},function(t,e,n){var i=n(10),r=n(2),o=n(9),a=Object.defineProperty,s={},u=function(t){throw t};t.exports=function(t,e){if(o(s,t))return s[t];e||(e={});var n=[][t],c=!!o(e,"ACCESSORS")&&e.ACCESSORS,h=o(e,0)?e[0]:u,l=o(e,1)?e[1]:void 0;return s[t]=!!n&&!r((function(){if(c&&!i)return!0;var t={length:-1};c?a(t,1,{enumerable:!0,get:u}):t[1]=1,n.call(t,h,l)}))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(105),r=n(73).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(7);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=!1},,,function(t,e,n){var i=n(29),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},,function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var i,r=n(8),o=n(168),a=n(73),s=n(57),u=n(114),c=n(79),h=n(60),l=h("IE_PROTO"),f=function(){},p=function(t){return"<script>"+t+"<\/script>"},d=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;d=i?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(i):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete d.prototype[a[n]];return d()};s[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=r(t),n=new f,f.prototype=null,n[l]=t):n=d(),void 0===e?n:o(n,e)}},function(t,e,n){var i=n(11).f,r=n(9),o=n(3)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(8),r=n(51),o=n(3)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||null==(n=i(a)[o])?e:r(n)}},function(t,e,n){var i=n(51);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports={}},function(t,e){t.exports={}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+i).toString(36)}},function(t,e,n){var i=n(2),r=n(3),o=n(84),a=r("species");t.exports=function(t){return o>=51||!i((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){var i=n(81),r=n(58),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e,n){var i=n(2),r=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==c||n!=u&&("function"==typeof e?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},function(t,e,n){var i=n(28);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){"use strict";var i=n(45),r=n(11),o=n(43);t.exports=function(t,e,n){var a=i(e);a in t?r.f(t,a,o(0,n)):t[a]=n}},function(t,e,n){var i=n(8),r=n(175);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return i(n),r(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},,,,function(t,e,n){var i=n(25),r=n(6),o=n(49),a=function(t){return function(e,n,a){var s,u=i(e),c=r(u.length),h=o(a,c);if(t&&n!=n){for(;c>h;)if((s=u[h++])!=s)return!0}else for(;c>h;h++)if((t||h in u)&&u[h]===n)return t||h||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var i=n(76),r=n(28),o=n(3)("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=i?r:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:a?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},function(t,e,n){var i=n(2),r=n(28),o="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){"use strict";var i=n(2);t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var i=n(1),r=n(15);t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},,,function(t,e,n){var i={};i[n(3)("toStringTag")]="z",t.exports="[object z]"===String(i)},function(t,e,n){"use strict";var i=n(41),r=n(11),o=n(3),a=n(10),s=o("species");t.exports=function(t){var e=i(t),n=r.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var i=n(1),r=n(7),o=i.document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var i=n(104),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return r.call(t)}),t.exports=i.inspectSource},function(t,e,n){var i=n(46),r=n(104);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var i=n(2);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},function(t,e,n){var i=n(105),r=n(73);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i,r,o=n(1),a=n(99),s=o.process,u=s&&s.versions,c=u&&u.v8;c?r=(i=c.split("."))[0]+i[1]:a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(r=i[1]),t.exports=r&&+r},,function(t,e,n){var i=n(69),r=n(56),o=n(3)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[i(t)]}},function(t,e,n){var i=n(3)("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){var i=n(7),r=n(62),o=n(3)("species");t.exports=function(t,e){var n;return r(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},,,,function(t,e,n){var i=n(7),r=n(64);t.exports=function(t,e,n){var o,a;return r&&"function"==typeof(o=e.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&r(t,a),t}},function(t,e,n){"use strict";var i=n(8);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},,,,function(t,e,n){var i=n(3),r=n(56),o=i("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[o]===t)}},function(t,e,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},function(t,e,n){var i=n(41);t.exports=i("navigator","userAgent")||""},,,,function(t,e,n){var i=n(10),r=n(2),o=n(79);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(1),r=n(72),o=i["__core-js_shared__"]||r("__core-js_shared__",{});t.exports=o},function(t,e,n){var i=n(9),r=n(25),o=n(68).indexOf,a=n(57);t.exports=function(t,e){var n,s=r(t),u=0,c=[];for(n in s)!i(a,n)&&i(s,n)&&c.push(n);for(;e.length>u;)i(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e){e.f=Object.getOwnPropertySymbols},,,function(t,e,n){var i=n(7),r=n(28),o=n(3)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},,function(t,e,n){var i=n(9),r=n(135),o=n(35),a=n(11);t.exports=function(t,e){for(var n=r(e),s=a.f,u=o.f,c=0;c<n.length;c++){var h=n[c];i(t,h)||s(t,h,u(e,h))}}},function(t,e,n){var i=n(1);t.exports=i},function(t,e,n){var i=n(82);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var i=n(41);t.exports=i("document","documentElement")},,function(t,e,n){var i=n(19);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},,,,,,,function(t,e,n){var i=n(8);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},,,,,function(t,e,n){"use strict";var i=n(10),r=n(1),o=n(61),a=n(19),s=n(9),u=n(28),c=n(92),h=n(45),l=n(2),f=n(52),p=n(44).f,d=n(35).f,v=n(11).f,E=n(137).trim,g=r.Number,T=g.prototype,S="Number"==u(f(T)),y=function(t){var e,n,i,r,o,a,s,u,c=h(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=E(c)).charCodeAt(0))||45===e){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(a=(o=c.slice(2)).length,s=0;s<a;s++)if((u=o.charCodeAt(s))<48||u>r)return NaN;return parseInt(o,i)}return+c};if(o("Number",!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var R,m=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof m&&(S?l((function(){T.valueOf.call(n)})):"Number"!=u(n))?c(new g(y(e)),n,m):y(e)},N=i?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;N.length>A;A++)s(g,R=N[A])&&!s(m,R)&&v(m,R,d(g,R));m.prototype=T,T.constructor=m,a(r,"Number",m)}},,,,function(t,e,n){var i,r,o,a=n(1),s=n(2),u=n(28),c=n(55),h=n(114),l=n(79),f=n(133),p=a.location,d=a.setImmediate,v=a.clearImmediate,E=a.process,g=a.MessageChannel,T=a.Dispatch,S=0,y={},R=function(t){if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},m=function(t){return function(){R(t)}},N=function(t){R(t.data)},A=function(t){a.postMessage(t+"",p.protocol+"//"+p.host)};d&&v||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++S]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},i(S),S},v=function(t){delete y[t]},"process"==u(E)?i=function(t){E.nextTick(m(t))}:T&&T.now?i=function(t){T.now(m(t))}:g&&!f?(o=(r=new g).port2,r.port1.onmessage=N,i=c(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(A)||"file:"===p.protocol?i="onreadystatechange"in l("script")?function(t){h.appendChild(l("script")).onreadystatechange=function(){h.removeChild(this),R(t)}}:function(t){setTimeout(m(t),0)}:(i=A,a.addEventListener("message",N,!1))),t.exports={set:d,clear:v}},function(t,e,n){var i=n(99);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},function(t,e,n){"use strict";var i=n(51),r=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new r(t)}},function(t,e,n){var i=n(41),r=n(44),o=n(106),a=n(8);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},,function(t,e,n){var i=n(26),r="["+n(138)+"]",o=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),s=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},,,function(t,e,n){var i=n(8),r=n(97),o=n(6),a=n(55),s=n(86),u=n(123),c=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,h,l){var f,p,d,v,E,g,T,S=a(e,n,h?2:1);if(l)f=t;else{if("function"!=typeof(p=s(t)))throw TypeError("Target is not iterable");if(r(p)){for(d=0,v=o(t.length);v>d;d++)if((E=h?S(i(T=t[d])[0],T[1]):S(t[d]))&&E instanceof c)return E;return new c(!1)}f=p.call(t)}for(g=f.next;!(T=g.call(f)).done;)if("object"==typeof(E=u(f,S,T.value,h))&&E&&E instanceof c)return E;return new c(!1)}).stop=function(t){return new c(!0,t)}},function(t,e,n){"use strict";var i,r=n(4),o=n(35).f,a=n(6),s=n(189),u=n(26),c=n(190),h=n(46),l="".startsWith,f=Math.min,p=c("startsWith");r({target:"String",proto:!0,forced:!!(h||p||(i=o(String.prototype,"startsWith"),!i||i.writable))&&!p},{startsWith:function(t){var e=String(u(this));s(t);var n=a(f(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return l?l.call(e,i,n):e.slice(n,n+i.length)===i}})},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var i=n(10),r=n(11),o=n(8),a=n(83);t.exports=i?Object.defineProperties:function(t,e){o(t);for(var n,i=a(e),s=i.length,u=0;s>u;)r.f(t,n=i[u++],e[n]);return t}},,,,,function(t,e,n){var i=n(1),r=n(80),o=i.WeakMap;t.exports="function"==typeof o&&/native code/.test(r(o))},,function(t,e,n){var i=n(7);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){"use strict";var i=n(76),r=n(69);t.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},,,,,,,,,,,,,function(t,e,n){var i=n(109);t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var i=n(3)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(t){}}return!1}},,,,,function(t,e,n){"use strict";var i,r,o,a,s=n(4),u=n(46),c=n(1),h=n(41),l=n(204),f=n(19),p=n(116),d=n(53),v=n(77),E=n(7),g=n(51),T=n(78),S=n(28),y=n(80),R=n(141),m=n(87),N=n(54),A=n(132).set,O=n(205),I=n(206),_=n(207),D=n(134),C=n(208),P=n(31),w=n(61),H=n(3),M=n(84),L=H("species"),b="Promise",U=P.get,V=P.set,F=P.getterFor(b),k=l,x=c.TypeError,G=c.document,Q=c.process,K=h("fetch"),B=D.f,j=B,W="process"==S(Q),Y=!!(G&&G.createEvent&&c.dispatchEvent),q=w(b,(function(){if(!(y(k)!==String(k))){if(66===M)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!k.prototype.finally)return!0;if(M>=51&&/native code/.test(k))return!1;var t=k.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[L]=e,!(t.then((function(){}))instanceof e)})),J=q||!m((function(t){k.all(t).catch((function(){}))})),X=function(t){var e;return!(!E(t)||"function"!=typeof(e=t.then))&&e},z=function(t,e,n){if(!e.notified){e.notified=!0;var i=e.reactions;O((function(){for(var r=e.value,o=1==e.state,a=0;i.length>a;){var s,u,c,h=i[a++],l=o?h.ok:h.fail,f=h.resolve,p=h.reject,d=h.domain;try{l?(o||(2===e.rejection&&et(t,e),e.rejection=1),!0===l?s=r:(d&&d.enter(),s=l(r),d&&(d.exit(),c=!0)),s===h.promise?p(x("Promise-chain cycle")):(u=X(s))?u.call(s,f,p):f(s)):p(r)}catch(t){d&&!c&&d.exit(),p(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&$(t,e)}))}},Z=function(t,e,n){var i,r;Y?((i=G.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),c.dispatchEvent(i)):i={promise:e,reason:n},(r=c["on"+t])?r(i):"unhandledrejection"===t&&_("Unhandled promise rejection",n)},$=function(t,e){A.call(c,(function(){var n,i=e.value;if(tt(e)&&(n=C((function(){W?Q.emit("unhandledRejection",i,t):Z("unhandledrejection",t,i)})),e.rejection=W||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){A.call(c,(function(){W?Q.emit("rejectionHandled",t):Z("rejectionhandled",t,e.value)}))},nt=function(t,e,n,i){return function(r){t(e,n,r,i)}},it=function(t,e,n,i){e.done||(e.done=!0,i&&(e=i),e.value=n,e.state=2,z(t,e,!0))},rt=function(t,e,n,i){if(!e.done){e.done=!0,i&&(e=i);try{if(t===n)throw x("Promise can't be resolved itself");var r=X(n);r?O((function(){var i={done:!1};try{r.call(n,nt(rt,t,i,e),nt(it,t,i,e))}catch(n){it(t,i,n,e)}})):(e.value=n,e.state=1,z(t,e,!1))}catch(n){it(t,{done:!1},n,e)}}};q&&(k=function(t){T(this,k,b),g(t),i.call(this);var e=U(this);try{t(nt(rt,this,e),nt(it,this,e))}catch(t){it(this,e,t)}},(i=function(t){V(this,{type:b,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(k.prototype,{then:function(t,e){var n=F(this),i=B(N(this,k));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=W?Q.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&z(this,n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i,e=U(t);this.promise=t,this.resolve=nt(rt,t,e),this.reject=nt(it,t,e)},D.f=B=function(t){return t===k||t===o?new r(t):j(t)},u||"function"!=typeof l||(a=l.prototype.then,f(l.prototype,"then",(function(t,e){var n=this;return new k((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof K&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(k,K.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:q},{Promise:k}),d(k,b,!1,!0),v(b),o=h(b),s({target:b,stat:!0,forced:q},{reject:function(t){var e=B(this);return e.reject.call(void 0,t),e.promise}}),s({target:b,stat:!0,forced:u||q},{resolve:function(t){return I(u&&this===o?k:this,t)}}),s({target:b,stat:!0,forced:J},{all:function(t){var e=this,n=B(e),i=n.resolve,r=n.reject,o=C((function(){var n=g(e.resolve),o=[],a=0,s=1;R(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||i(o))}),r)})),--s||i(o)}));return o.error&&r(o.value),n.promise},race:function(t){var e=this,n=B(e),i=n.reject,r=C((function(){var r=g(e.resolve);R(t,(function(t){r.call(e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},,,,,,,,,function(t,e,n){var i=n(1);t.exports=i.Promise},function(t,e,n){var i,r,o,a,s,u,c,h,l=n(1),f=n(35).f,p=n(28),d=n(132).set,v=n(133),E=l.MutationObserver||l.WebKitMutationObserver,g=l.process,T=l.Promise,S="process"==p(g),y=f(l,"queueMicrotask"),R=y&&y.value;R||(i=function(){var t,e;for(S&&(t=g.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(t){throw r?a():o=void 0,t}}o=void 0,t&&t.enter()},S?a=function(){g.nextTick(i)}:E&&!v?(s=!0,u=document.createTextNode(""),new E(i).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):T&&T.resolve?(c=T.resolve(void 0),h=c.then,a=function(){h.call(c,i)}):a=function(){d.call(l,i)}),t.exports=R||function(t){var e={fn:t,next:void 0};o&&(o.next=e),r||(r=e,a()),o=e}},function(t,e,n){var i=n(8),r=n(7),o=n(134);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var i=n(1);t.exports=function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(4)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(t){function e(t){"undefined"!=typeof console&&(console.error||console.log)("[Script Loader]",t)}try{"undefined"!=typeof execScript&&"undefined"!=typeof attachEvent&&"undefined"==typeof addEventListener?execScript(t):"undefined"!=typeof eval?eval.call(null,t):e("EvalError: No eval function available")}catch(t){e(t)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(289)(n(445))},function(t,e){t.exports='/*! (C) 2022 Conviva, Inc. All rights reserved. Confidential and proprietary. */\n\n!function(t,n){"function"===typeof define&&define.amd?define(n):("object"===typeof exports||"object"===typeof module&&module.exports)&&(module.exports=n()),"undefined"!==typeof t&&t&&(t.Conviva||t.ConvivaLoading||(t.ConvivaLoading=!0,t.Conviva=n(),delete t.ConvivaLoading))}(this,function(){var ht={};return function(){"use strict";var ut={};!function(){var T=ht.Constants={};T.version="4.5.7",T.CUSTOMER_KEY="customerKey",T.GATEWAY_URL="gatewayUrl",T.LOG_LEVEL="logLevel",T.ASSET_NAME="Conviva.assetName",T.PLAYER_NAME="Conviva.applicationName",T.APPLICATION_VERSION="c3.app.version",T.IS_LIVE="Conviva.streamType",T.ENCODED_FRAMERATE="Conviva.encodedFrameRate",T.DEFAULT_RESOURCE="Conviva.defaultResource",T.STREAM_URL="Conviva.streamUrl",T.VIEWER_ID="Conviva.viewerId",T.DURATION="Conviva.duration",T.UTM_TRACKING_URL="c3.cm.utmTrackingUrl",T.POD_INDEX="podIndex",T.POD_POSITION="podPosition",T.POD_DURATION="podDuration",T.AD_TYPE="adType",T.MODULE_NAME="Conviva.moduleName",T.MODULE_VERSION="Conviva.moduleVersion",T.FRAMEWORK_NAME="Conviva.frameworkName",T.FRAMEWORK_VERSION="Conviva.frameworkVersion",T.i="Constants not yet configured",T.e="Invalid : Did you report playback ended?",T.s="Invalid : Did you report ad playback ended?",T.o="Player cannot be null",T.u="PlaybackAnlytics already built",T.a="PlaybackAnlytics not yet built",T.Playback={BITRATE:"BITRATE",PLAY_HEAD_TIME:"PLAY_HEAD_TIME",RESOLUTION:"RESOLUTION",BUFFER_LENGTH:"BUFFER_LENGTH",PLAYER_STATE:"PLAYER_STATE",RENDERED_FRAMERATE:"RENDERED_FRAMERATE",SEEK_STARTED:"SEEK_STARTED",SEEK_ENDED:"SEEK_ENDED",CDN_IP:"CDN_IP",DROPPED_FRAMES_TOTAL:"DROPPED_FRAMES_TOTAL",DROPPED_FRAMES_COUNT:"DROPPED_FRAMES_COUNT"},T.Network={SIGNAL_STRENGTH:"SIGNAL_STRENGTH",LINK_ENCRYPTION:"LINK_ENCRYPTION",CONNECTION_TYPE:"CONNECTION_TYPE"},T.ErrorSeverity={FATAL:1,WARNING:0},T.NO_SESSION_KEY=-2,T.AdPosition={PREROLL:"Pre-roll",MIDROLL:"Mid-roll",POSTROLL:"Post-roll"},T.AdPlayer={CONTENT:"CONTENT",SEPARATE:"SEPARATE"},T.DeviceType={DESKTOP:"DESKTOP",CONSOLE:"Console",SETTOP:"Settop",MOBILE:"Mobile",TABLET:"Tablet",SMARTTV:"SmartTV"},T.AdType={CLIENT_SIDE:"Client Side",SERVER_SIDE:"Server Side"},T.AdSlates={BLACKOUT_SLATE:"Blackout slate",TECHNICAL_DIFFICULTIES_SLATE:"Technical Difficulties slate",COMMERCIAL_SLATE:"Commercial Break slate",OTHER_SLATE:"Other slate",VPAID:"VPAID",REGULAR:"Regular Ad"},T.AdServingType={INLINE:"Inline",WRAPPER:"Wrapper"},T.DeviceCategory={ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",LG_TV:"LGTV",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",SMART_TV:"TV",SET_TOP_BOX:"STB",TIVO:"TIVO",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB",KAIOS_DEVICE:"KAIOS"},T.LogLevel={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},T.PlayerState={STOPPED:"STOPPED",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSED:"PAUSED",UNKNOWN:"UNKNOWN",NOT_MONITORED:"NOT_MONITORED"},T.Events={USER_WAIT_STARTED:"Conviva.UserWaitStarted",USER_WAIT_ENDED:"Conviva.UserWaitEnded",BUMPER_VIDEO_STARTED:"Conviva.BumperVideoStarted",BUMPER_VIDEO_ENDED:"Conviva.BumperVideoEnded",AD_REQUESTED:"Conviva.AdRequested",AD_RESPONSE:"Conviva.AdResponse",AD_SLOT_STARTED:"Conviva.SlotStarted",AD_ATTEMPTED:"Conviva.AdAttempted",AD_SLOT_ENDED:"Conviva.SlotEnded",AD_IMPRESSION_START:"Conviva.AdImpression",AD_START:"Conviva.AdStart",AD_FIRST_QUARTILE:"Conviva.AdFirstQuartile",AD_MID_QUARTILE:"Conviva.AdMidQuartile",AD_THIRD_QUARTILE:"Conviva.AdThirdQuartile",AD_COMPLETE:"Conviva.AdComplete",AD_END:"Conviva.AdEnd",AD_IMPRESSION_END:"Conviva.AdImpressionEnd",AD_SKIPPED:"Conviva.AdSkipped",AD_ERROR:"Conviva.AdError",AD_PROGRESS:"Conviva.AdProgress",AD_CLOSE:"Conviva.AdClose",CONTENT_PAUSED:"Conviva.PauseContent",CONTENT_RESUMED:"Conviva.ResumeContent",POD_START:"Conviva.PodStart",POD_END:"Conviva.PodEnd"},T.ErrorType={ERROR_UNKNOWN:"ERROR_UNKNOWN",ERROR_IO:"ERROR_IO",ERROR_TIMEOUT:"ERROR_TIMEOUT",ERROR_NULL_ASSET:"ERROR_NULL_ASSET",ERROR_MISSING_PARAMETER:"ERROR_MISSING_PARAMETER",ERROR_NO_AD_AVAILABLE:"ERROR_NO_AD_AVAILABLE",ERROR_PARSE:"ERROR_PARSE",ERROR_INVALID_VALUE:"ERROR_INVALID_VALUE",ERROR_INVALID_SLOT:"ERROR_INVALID_SLOT",ERROR_3P_COMPONENT:"ERROR_3P_COMPONENT",ERROR_UNSUPPORTED_3P_FEATURE:"ERROR_UNSUPPORTED_3P_FEATURE",ERROR_DEVICE_LIMIT:"ERROR_DEVICE_LIMIT",ERROR_UNMATCHED_SLOT_SIZE:"ERROR_UNMATCHED_SLOT_SIZE"},T.StreamType={UNKNOWN:"UNKNOWN",LIVE:"LIVE",VOD:"VOD"},T.CallbackFunctions={CONSOLE_LOG:"consoleLog",MAKE_REQUEST:"makeRequest",SAVE_DATA:"saveData",LOAD_DATA:"loadData",GET_EPOCH_TIME_IN_MS:"getEpochTimeInMs",CREATE_TIMER:"createTimer",GENERATE_HASH:"generateHash",BASE64_ENCODE:"base64Encode"},T.DeviceMetadata={BRAND:"DeviceBrand",MANUFACTURER:"DeviceManufacturer",MODEL:"DeviceModel",TYPE:"DeviceType",VERSION:"DeviceVersion",OS_NAME:"OperatingSystemName",OS_VERSION:"OperatingSystemVersion",CATEGORY:"DeviceCategory",SCREEN_RESOLUTION_WIDTH:"ScreenWidth",SCREEN_RESOLUTION_HEIGHT:"ScreenHeight",SCREEN_RESOLUTION_SCALE_FACTOR:"ScaleFactor"},T.AD_PRELOAD_FEATURE="adPreloading",T.AD_TAG_URL="adTagUrl",T.IMASDK_CONTENT_PLAYER="imaMainContentPlayer",T.CONVIVA_AD_MODULE="convivaAdModule",T.CONVIVA_MODULE="convivaModule",T.MEDIA_ELEMENT="mediaElement";var a=ht.Client=function(){var h=this;this.c=!1,this.version=a.version,this.l=null,this.v=null,this.d=null,this.p=-1,this.R=null,this.w=null,this.T=null,this.S=null,this.g=-1,this.N=!1,this.O={},this._=function(){h.l,0},this.A={},this.C=null,this.I=null,this.y=null,this.m=function(){this.T.D("Client.makeIPV4IPV6GlobalSessions",function(){var t;!h.S||null!==(t=h.S.get(q.P))&&t!==H.M&&h.v&&((t=new c).custom["c3.IPV4IPV6GlobalSession"]="T",t.custom["c3.domain"]=h.R.L.indexOf(f.U)>-1?f.U:f.V,h.F=h.v.H(t,null),(t=new c).custom["c3.IPV4IPV6GlobalSession"]="T",t.custom["c3.domain"]=h.R.B.indexOf(f.G)>-1?f.G:f.j,h.K=h.v.H(t,null))})},this.W=function(i){h.T.D("Client.updateConnectionType",function(){if(h.C=i,h.v){var t,n=h.v.q();for(t in n)n[t].Y(i)}})},this.J=function(i){h.T.D("Client.updateLinkEncryption",function(){if(h.I=i,h.v){var t,n=h.v.q();for(t in n)n[t].X(i)}})},this.Q=function(t){h.T.D("Client.updateSignalStrength",function(){h.y=t})},function(t,n,i,e){if(!(t instanceof f))throw new Error("clientSettings parameter should be an instance of ClientSettings.");if(!(n instanceof R))throw new Error("systemFactory parameter should be an instance of SystemFactory.");t.gatewayUrl!==f.Z+f.z&&t.gatewayUrl!==f.$+f.z||(this.c=!0),e&&(this.version=e),this.R=t.tt(),this.d=n,this.d.nt("SDK",this.R,this.version),this.T=this.d.it(this.version),this.T.D("Client.init",function(){if(h.S=h.d.et(),h.S.ot(),h.g=h.S.get(q.rt),-1!==h.g&&void 0!==h.g&&null!==h.g||(h.g=$.ut()),h.v=h.d.ht(h,h.R,h.S),i)for(var t in i)switch(t){case T.Network.CONNECTION_TYPE:h.W(i[t]);break;case T.Network.LINK_ENCRYPTION:h.J(i[t]);break;case T.Network.SIGNAL_STRENGTH:h.Q(i[t])}h.m()},function(t){throw new Error("Client constructor failed: "+t.message)})}.apply(this,arguments),this.release=function(){this.N||this.T.D("Client.release",function(){h.l,h.v.ft(),h.v=null,h.p=-1,h.g=-1,h.T=null,h.R=null,h.w=null,h.d=null,h.N=!0})},this.createSession=function(t,n,i){var e=a.NO_SESSION_KEY;return this.N||(!t||t instanceof c)&&this.T.D("Client.createSession",function(){e=h.v.ct(t,j.vt.lt,n,(i?T:h).version)}),e},this.createAdSession=function(i,e,s,o,r){var u=a.NO_SESSION_KEY;return this.N||(!e||e instanceof c)&&this.T.D("Client.createAdSession",function(){var t,n;e||(e=new c),!Q.dt(i)||i===a.NO_SESSION_KEY||(t=h.v.Et(i))&&(n=e.custom[T.APPLICATION_VERSION],e.applicationName&&e.viewerId&&"undefined"!==typeof n&&n||t.pt&&t.pt.Rt&&(!e.viewerId&&t.pt.Rt.viewerId&&(e.viewerId=t.pt.Rt.viewerId),!e.applicationName&&t.pt.Rt.applicationName&&(e.applicationName=t.pt.Rt.applicationName),"undefined"!==typeof n&&n||"undefined"!==typeof(n=t.pt.Rt.custom[T.APPLICATION_VERSION])&&n&&(e.custom[T.APPLICATION_VERSION]=n)),e.custom["c3.csid"]=Q.wt(t.g)),u=h.v.ct(e,j.vt.Tt,s,(o?T:h).version,r)}),u},this.reportError=function(n,i,e){this.N||Q.St(i)&&(e!==a.ErrorSeverity.FATAL&&e!==a.ErrorSeverity.WARNING||this.T.D("Client.reportError",function(){var t=h.v.Et(n);t&&t.gt(i,e)}))},this.updateContentMetadata=function(i,e){this.N||e instanceof c&&this.T.D("Client.updateContentMetadata",function(){var t,n=h.v.Et(i);n&&(t=e.tt(),n.Nt(t))})},this.detachPlayer=function(n){this.N||this.T.D("Client.detachPlayer",function(){var t=h.v.Et(n);t&&t.Ot()})},this._t=function(n){this.N||this.T.D("Client.offFocus",function(){var t=h.v.Et(n);t&&t._t()})},this.attachPlayer=function(n,i){this.N||i instanceof u&&this.T.D("Client.attachPlayer",function(){var t=h.v.Et(n);t&&t.At(i)})},this.Ct=function(n){this.N||this.T.D("Client.onFocus",function(){var t=h.v.Et(n);t&&t.Ct()})},this.contentPreload=function(n){this.N||this.T.D("Client.contentPreload",function(){var t=h.v.Et(n);t&&t.It()})},this.contentStart=function(n){this.N||this.T.D("Client.contentStart",function(){var t=h.v.Et(n);t&&t.yt()})},this.sendCustomEvent=function(i,e,s){this.N||Q.St(e)&&(Q.mt(s),this.T.D("Client.sendCustomEvent",function(){i===a.NO_SESSION_KEY&&(h.p<0&&(n=new c,h.p=h.v.H(n,null)),i=h.p);var t=Q.Dt(s),n=h.v.Pt(i);n&&n.bt(e,t)}))},this.adStart=function(n,i,e,s){this.N||i!==a.AdStream.CONTENT&&i!==a.AdStream.SEPARATE||e!==a.AdPlayer.CONTENT&&e!==a.AdPlayer.SEPARATE||(s!==a.AdPosition.PREROLL&&s!==a.AdPosition.MIDROLL&&a.AdPosition.POSTROLL,this.T.D("Client.adStart",function(){var t=h.v.Et(n);t&&t.Mt(i,e,s)}))},this.adEnd=function(n){this.N||this.T.D("Client.adEnd",function(){var t=h.v.Et(n);t&&t.Lt()})},this.cleanupSession=function(t){this.N||t!==a.NO_SESSION_KEY&&this.T.D("Client.cleanupSession",function(){h.v.Et(t)&&h.v.Ut(t)})},this.getAttachedPlayer=function(n){var i=null;return this.N||n===a.NO_SESSION_KEY||this.T.D("Client.getAttachedPlayer",function(){var t=h.v.Et(n);t&&(i=t.Vt())}),i},this.isPlayerAttached=function(t){return!this.N&&null!==this.getAttachedPlayer(t)},this.getPlayerStateManager=function(t){if(this.N)throw new Error("This instance of Conviva.Client has been released.");return new u(this.d,(t?T:h).version)},this.releasePlayerStateManager=function(t){if(this.N)throw new Error("This instance of Conviva.Client has been released.");this.T.D("Client.releasePlayerStateManager",function(){t instanceof u&&t.release()})},this.kt=function(){return this.R},this.getId=function(){return this.g},this.getSessionId=function(n){if(this.N)return T.NO_SESSION_KEY;var i=null;return this.T.D("Client.getSessionId",function(){var t=h.v.Et(n);t&&(i=t.Ft())}),i},this.getClientId=function(n){if(this.N)return null;var i=null;return this.T.D("Client.getClientId",function(){var t=h.v.Et(n);t&&(i=t.Ht())}),i},this.Bt=function(n,i,e){this.N||this.T.D("Client.updateCustomMetric",function(){var t=h.v.Et(n);t&&t.Bt(i,e)})},this.setUniqueIdentifier=function(t,n){if(this.N)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var i in t)this.O[i]=t[i];n&&(this._=n)},this.setUserPreferenceForDataCollection=function(t,n){if(this.N)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var i in t)"false"===t[i]?this.A[i]=n?q.jt.Gt:q.jt.Kt:this.A[i]=q.jt.Wt},this.setUserPreferenceForDataDeletion=function(t){if(this.N)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var n in t)"true"===t[n]?this.A[n]=q.jt.xt:this.A[n]=q.jt.Wt}};a.version="4.5.7L",a.NO_SESSION_KEY=T.NO_SESSION_KEY,a.AdPosition={PREROLL:T.AdPosition.PREROLL,MIDROLL:T.AdPosition.MIDROLL,POSTROLL:T.AdPosition.POSTROLL},a.AdStream={CONTENT:T.AdPlayer.CONTENT,SEPARATE:T.AdPlayer.SEPARATE},a.AdPlayer={CONTENT:T.AdPlayer.CONTENT,SEPARATE:T.AdPlayer.SEPARATE},a.ErrorSeverity={FATAL:T.ErrorSeverity.FATAL,WARNING:T.ErrorSeverity.WARNING},a.DeviceType={DESKTOP:T.DeviceType.DESKTOP,CONSOLE:T.DeviceType.CONSOLE,SETTOP:T.DeviceType.SETTOP,MOBILE:T.DeviceType.MOBILE,TABLET:T.DeviceType.TABLET,SMARTTV:T.DeviceType.SMARTTV},a.AdTechnology={CLIENT_SIDE:T.AdType.CLIENT_SIDE,SERVER_SIDE:T.AdType.SERVER_SIDE},a.AdType={BLACKOUT_SLATE:T.AdSlates.BLACKOUT_SLATE,TECHNICAL_DIFFICULTIES_SLATE:T.AdSlates.TECHNICAL_DIFFICULTIES_SLATE,COMMERCIAL_SLATE:T.AdSlates.COMMERCIAL_SLATE,OTHER_SLATE:T.AdSlates.OTHER_SLATE,VPAID:T.AdSlates.VPAID,REGULAR:T.AdSlates.REGULAR},a.AdServingType={INLINE:T.AdServingType.INLINE,WRAPPER:T.AdServingType.WRAPPER},a.DeviceCategory={ANDROID_DEVICE:T.DeviceCategory.ANDROID_DEVICE,APPLE_DEVICE:T.DeviceCategory.APPLE_DEVICE,CHROMECAST:T.DeviceCategory.CHROMECAST,DESKTOP_APP:T.DeviceCategory.DESKTOP_APP,DEVICE_SIMULATOR:T.DeviceCategory.DEVICE_SIMULATOR,LG_TV:T.DeviceCategory.LG_TV,NINTENDO:T.DeviceCategory.NINTENDO,PLAYSTATION:T.DeviceCategory.PLAYSTATION,ROKU:T.DeviceCategory.ROKU,SAMSUNG_TV:T.DeviceCategory.SAMSUNG_TV,SMART_TV:T.DeviceCategory.SMART_TV,SET_TOP_BOX:T.DeviceCategory.SET_TOP_BOX,TIVO:T.DeviceCategory.TIVO,WEB:T.DeviceCategory.WEB,WINDOWS_DEVICE:T.DeviceCategory.WINDOWS_DEVICE,XBOX:T.DeviceCategory.XBOX,KAIOS_DEVICE:T.DeviceCategory.KAIOS_DEVICE};var f=ht.ClientSettings=function(){var i=this;this.qt=null,Q.Yt(this,"customerKey",function(){return this.qt}),Q.Jt(this,"customerKey",function(t){Q.St(t)&&(this.qt=t)}),this.Xt=f.Qt,Q.Yt(this,"heartbeatInterval",function(){return this.Xt}),Q.Jt(this,"heartbeatInterval",function(t){var n;"number"!==typeof t||(n=Q.Zt(t))===t&&(this.Xt=n)}),this.zt=null,this.L=null,this.B=null,Q.Yt(this,"gatewayUrl",function(){return this.zt}),Q.Jt(this,"gatewayUrl",function(t){var n;Q.St(t)&&("https"!==(n=t.split("://"))[0]&&"http"!==n[0]||-1!==t.indexOf(".com",t.length-".com".length)&&(this.zt=t))}),function(t){if(!Q.St(t))throw new Error("customerKey must be valid");this.customerKey=t}.apply(this,arguments),this.equals=function(t){return this.customerKey===t.customerKey&&this.gatewayUrl===t.gatewayUrl&&this.heartbeatInterval===t.heartbeatInterval},this.tt=function(){var t=new f(this.customerKey);return t.gatewayUrl=function(t){if(Q.St(t)){var n=t.split("://");if(-1===n[1].indexOf("cws.conviva.com")&&("https"===n[0]||"http"===n[0]))return i.L="https://"+i.customerKey+"."+f.V,i.B="https://"+i.customerKey+"."+f.j,t}return i.L="https://"+i.customerKey+"."+f.U,i.B="https://"+i.customerKey+"."+f.G,"https://"+i.customerKey+"."+f.z}(this.gatewayUrl),t.heartbeatInterval=this.heartbeatInterval,t.L=this.L,t.B=this.B,t}};f.$t="https://conviva.testonly.conviva.com",f.tn="https://cws.conviva.com",f.z="cws.conviva.com",f.U="ipv4.cws.conviva.com",f.G="ipv6.cws.conviva.com",f.nn="conviva.testonly.conviva.com",f.V="ipv4.testonly.conviva.com",f.j="ipv6.testonly.conviva.com",f.Z="https://",f.$="http://",f.in=5,f.Qt=20;var c=ht.ContentMetadata=function(){this.en=null,Q.Yt(this,"assetName",function(){return this.en}),Q.Jt(this,"assetName",function(t){if("string"!==typeof t)return;this.en=t}),this.sn={},Q.Yt(this,"custom",function(){return this.sn}),Q.Jt(this,"custom",function(t){if("object"!==typeof t)return;this.sn=Q.Dt(t)}),this.on=null,Q.Yt(this,"defaultResource",function(){return this.on}),Q.Jt(this,"defaultResource",function(t){if("string"!==typeof t)return;this.on=t}),this.rn=null,Q.Yt(this,"viewerId",function(){return this.rn}),Q.Jt(this,"viewerId",function(t){if("string"!==typeof t)return;this.rn=t}),this.un=null,Q.Yt(this,"applicationName",function(){return this.un}),Q.Jt(this,"applicationName",function(t){if("string"!==typeof t)return;this.un=t}),this.hn=null,Q.Yt(this,"streamUrl",function(){return this.hn}),Q.Jt(this,"streamUrl",function(t){if("string"!==typeof t)return;this.hn=t}),this.an=c.StreamType.UNKNOWN,Q.Yt(this,"streamType",function(){return this.an}),Q.Jt(this,"streamType",function(t){t!==c.StreamType.UNKNOWN&&t!==c.StreamType.VOD&&t!==c.StreamType.LIVE||(this.an=t)}),this.fn=-1,Q.Yt(this,"duration",function(){return this.fn}),Q.Jt(this,"duration",function(t){this.fn=tt.cn(t)}),this.ln=-1,Q.Yt(this,"encodedFrameRate",function(){return this.ln}),Q.Jt(this,"encodedFrameRate",function(t){this.ln=tt.cn(t)}),function(){}.apply(this,arguments),this.tt=function(){var t,n=new c;for(t in n.assetName=this.assetName,n.applicationName=this.applicationName,n.streamUrl=this.streamUrl,n.viewerId=this.viewerId,n.defaultResource=this.defaultResource,n.streamType=this.streamType,n.duration=this.duration,n.encodedFrameRate=this.encodedFrameRate,this.custom)n.custom[t]=this.custom[t];return n}};c.StreamType={UNKNOWN:T.StreamType.UNKNOWN,LIVE:T.StreamType.LIVE,VOD:T.StreamType.VOD},ht.ErrorType={ERROR_UNKNOWN:T.ErrorType.ERROR_UNKNOWN,ERROR_IO:T.ErrorType.ERROR_IO,ERROR_TIMEOUT:T.ErrorType.ERROR_TIMEOUT,ERROR_NULL_ASSET:T.ErrorType.ERROR_NULL_ASSET,ERROR_MISSING_PARAMETER:T.ErrorType.ERROR_MISSING_PARAMETER,ERROR_NO_AD_AVAILABLE:T.ErrorType.ERROR_NO_AD_AVAILABLE,ERROR_PARSE:T.ErrorType.ERROR_PARSE,ERROR_INVALID_VALUE:T.ErrorType.ERROR_INVALID_VALUE,ERROR_INVALID_SLOT:T.ErrorType.ERROR_INVALID_SLOT,ERROR_3P_COMPONENT:T.ErrorType.ERROR_3P_COMPONENT,ERROR_UNSUPPORTED_3P_FEATURE:T.ErrorType.ERROR_UNSUPPORTED_3P_FEATURE,ERROR_DEVICE_LIMIT:T.ErrorType.ERROR_DEVICE_LIMIT,ERROR_UNMATCHED_SLOT_SIZE:T.ErrorType.ERROR_UNMATCHED_SLOT_SIZE},ht.Events={AD_REQUESTED:T.Events.AD_REQUESTED,AD_RESPONSE:T.Events.AD_RESPONSE,AD_SLOT_STARTED:T.Events.AD_SLOT_STARTED,AD_ATTEMPTED:T.Events.AD_ATTEMPTED,AD_SLOT_ENDED:T.Events.AD_SLOT_ENDED,AD_IMPRESSION_START:T.Events.AD_IMPRESSION_START,AD_START:T.Events.AD_START,AD_FIRST_QUARTILE:T.Events.AD_FIRST_QUARTILE,AD_MID_QUARTILE:T.Events.AD_MID_QUARTILE,AD_THIRD_QUARTILE:T.Events.AD_THIRD_QUARTILE,AD_COMPLETE:T.Events.AD_COMPLETE,AD_END:T.Events.AD_END,AD_IMPRESSION_END:T.Events.AD_IMPRESSION_END,AD_SKIPPED:T.Events.AD_SKIPPED,AD_ERROR:T.Events.AD_ERROR,AD_PROGRESS:T.Events.AD_PROGRESS,AD_CLOSE:T.Events.AD_CLOSE,CONTENT_PAUSED:T.Events.CONTENT_PAUSED,CONTENT_RESUMED:T.Events.CONTENT_RESUMED,POD_START:T.Events.POD_START,POD_END:T.Events.POD_END};var u=ht.PlayerStateManager=function(){var e=this;e.vn=null,e.dn=-2,e.En=u.PlayerState.UNKNOWN,e.pn={},e.Rn=-2,e.ln=-2,e.fn=-2,e.wn=null,e.Tn=null,e.hn=null,e.Sn=null,e.gn=null,e.Nn=-1,e.On=-1,e.C=null,e.I=null,e._n=null,e.An=[],e.N=!1,this.release=function(){e.N||e.T.D("PlayerStateManager.release",function(){e.vn&&e.vn.Cn(),e.In(),e.d=null,e.T=null,e.N=!0})},this.setPlayheadTime=function(){},this.setBufferLength=function(){},this.setRenderedFrameRate=function(){},this.getEncodedFrameRate=function(){return e.ln},this.setEncodedFrameRate=function(n){e.N||e.T.D("PlayerStateManager.setEncodedFrameRate",function(){var t=tt.cn(n);t>=-1&&(e.ln=t,e.vn&&e.vn.yn(e.ln))})},this.getDuration=function(){return e.fn},this.setClientMeasureInterface=function(t){Q.mn(t,new ht.ClientMeasureInterface,"ClientMeasureInterface"),this.Dn=t},this.getPHT=function(){return this.Dn&&"function"===typeof this.Dn.getPHT?this.Dn.getPHT():u.DEFAULT_PHT},this.getBufferLength=function(){return this.Dn&&"function"===typeof this.Dn.getBufferLength?this.Dn.getBufferLength():u.DEFAULT_BUFFER_LENGTH},this.getSignalStrength=function(){return this.Dn&&"function"===typeof this.Dn.getSignalStrength?this.Dn.getSignalStrength():u.DEFAULT_SIGNAL_STRENGTH},this.getRenderedFrameRate=function(){return this.Dn&&"function"===typeof this.Dn.getRenderedFrameRate?this.Dn.getRenderedFrameRate():u.DEFAULT_RENDERED_FRAME_RATE},this.setDuration=function(n){e.N||e.T.D("PlayerStateManager.setDuration",function(){var t=tt.cn(n);t>=-1&&(e.fn=t,e.vn&&e.vn.Pn(e.fn))})},this.getStreamUrl=function(){return e.hn},this.setStreamUrl=function(t){e.N||e.T.D("PlayerStateManager.setStreamUrl",function(){t&&(e.hn=t,e.vn&&e.vn.bn(e.hn))})},this.Mn=function(){return e.Sn},this.Ln=function(){return e.gn},this.setModuleNameAndVersion=function(t,n){e.Sn=t,e.gn=n},this.Un=function(){return e.Tn},this.setPlayerType=function(t){e.N||e.T.D("PlayerStateManager.setPlayerType",function(){e.Tn=t,e.vn&&e.vn.Vn(e.Tn)})},this.kn=function(){return e.wn},this.setPlayerVersion=function(t){e.N||e.T.D("PlayerStateManager.setPlayerVersion",function(){e.wn=t,e.vn&&e.vn.Fn(e.wn)})},this.setMonitoringNotifier=function(t){return!e.N&&(!e.vn&&(e.vn=t,e.l,!0))},this.In=function(){e.N||(e.vn=null,e.l)},this.Hn=function(){e.setPlayerState(e.getPlayerState()),e.setBitrateKbps(e.Bn()),e.setDuration(e.getDuration()),e.setEncodedFrameRate(e.getEncodedFrameRate()),e.setStreamUrl(e.getStreamUrl()),e.setPlayerType(e.Un()),e.setPlayerVersion(e.kn());for(var t=0;t<e.An.length;t++){var n=e.An[t];e.Gn(n)}e.An=[]},this.getPlayerState=function(){return e.En},this.setPlayerState=function(t){e.N||e.T.D("PlayerStateManager.setPlayerState",function(){u.jn(t)&&(e.En=t,e.vn&&e.vn.Kn(e.En))})},this.Bn=function(){return e.dn},this.setBitrateKbps=function(n){e.N||e.T.D("PlayerStateManager.setBitrateKbps",function(){var t=tt.cn(n);t>=-1&&(e.dn=t,e.vn&&e.vn.Wn(e.dn))})},this.setPlayerSeekStart=function(t){e.N||e.T.D("PlayerStateManager.setPlayerSeekStart()",function(){e.vn&&e.vn.xn(u.SEEK_ACTIONS_TYPE.SEEK_START,t)})},this.setPlayerSeekEnd=function(){e.N||e.T.D("PlayerStateManager.setPlayerSeekEnd()",function(){e.vn&&e.vn.xn(u.SEEK_ACTIONS_TYPE.SEEK_END,-1)})},this.setUserSeekButtonUp=function(){e.N||e.T.D("PlayerStateManager.setUserSeekButtonUp()",function(){e.vn&&e.vn.xn(u.SEEK_ACTIONS_TYPE.BUTTON_UP,-1)})},this.setUserSeekButtonDown=function(){e.N||e.T.D("PlayerStateManager.setUserSeekButtonDown()",function(){e.vn&&e.vn.xn(u.SEEK_ACTIONS_TYPE.BUTTON_DOWN,-1)})},this.setVideoResolutionWidth=function(n){e.N||e.T.D("PlayerStateManager.setVideoResolutionWidth()",function(){var t=tt.cn(n);t>0&&(e.Nn=t),e.vn&&e.vn.qn(e.Nn)})},this.setVideoResolutionHeight=function(n){e.N||e.T.D("PlayerStateManager.setVideoResolutionHeight()",function(){var t=tt.cn(n);t>0&&(e.On=t),e.vn&&e.vn.Yn(e.On)})},this.setConnectionType=function(t){e.N||e.T.D("PlayerStateManager.setConnectionType()",function(){e.C=t,e.vn&&e.vn.Y(e.C)})},this.setLinkEncryption=function(t){e.N||e.T.D("PlayerStateManager.setLinkEncryption()",function(){e.I=t,e.vn&&e.vn.X(e.I)})},this.setSignalStrength=function(){},this.Gn=function(t){var n,i;e._n=t,e.vn?(n=t.errorCode,i=t.severity,e.vn.Jn(n,i)):e.An.push(t)},this.sendError=function(n,i){e.N||e.T.D("PlayerStateManager.sendError",function(){var t=new nt(n,i);e.Gn(t)})},this.reset=function(){e.N||e.T.D("PlayerStateManager.reset",function(){e.dn=-2,e.En=u.PlayerState.UNKNOWN,e.pn={},e.Rn=-1,e.ln=-1,e.fn=-1,e.wn=null,e.Tn=null,e.hn=null,e._n=null,e.An=[]})},this.setCDNServerIP=function(t){e.N||e.T.D("PlayerStateManager.setCDNServerIP",function(){e.vn&&e.vn.Xn(t)})},this.Qn=function(){return e.Zn},this.setDroppedFramesTotal=function(t){e.N||e.T.D("PlayerStateManager.setDroppedFramesTotal",function(){e.vn&&e.vn.zn(t)})},this.setDroppedFramesCount=function(t){e.N||e.T.D("PlayerStateManager.setDroppedFramesCount",function(){e.vn&&e.vn.$n(t)})},this.ti=function(){return e._n},function(t,n){e.d=t,e.T=e.d.it(n)}.apply(e,arguments)};u.PlayerState={STOPPED:T.PlayerState.STOPPED,PLAYING:T.PlayerState.PLAYING,BUFFERING:T.PlayerState.BUFFERING,PAUSED:T.PlayerState.PAUSED,UNKNOWN:T.PlayerState.UNKNOWN,NOT_MONITORED:T.PlayerState.NOT_MONITORED},u.jn=function(t){return t===u.PlayerState.STOPPED||t===u.PlayerState.PLAYING||t===u.PlayerState.BUFFERING||t===u.PlayerState.PAUSED||t===u.PlayerState.UNKNOWN||t===u.PlayerState.NOT_MONITORED},u.SEEK_ACTIONS_TYPE={SEEK_START:"pss",SEEK_END:"pse",BUTTON_UP:"bu",BUTTON_DOWN:"bd"},u.DEFAULT_SIGNAL_STRENGTH=1e3,u.DEFAULT_RENDERED_FRAME_RATE=-1,u.DEFAULT_BUFFER_LENGTH=-1,u.DEFAULT_PHT=-1,ht.ClientMeasureInterface=function(){this.getPHT=function(){},this.getBufferLength=function(){},this.getSignalStrength=function(){},this.getRenderedFrameRate=function(){}};var r=ht.HttpInterface=function(){this.makeRequest=function(){},this.release=function(){}},h=ht.LoggingInterface=function(){this.consoleLog=function(){},this.release=function(){}},l=ht.MetadataInterface=function(){this.getBrowserName=function(){},this.getBrowserVersion=function(){},this.getDeviceBrand=function(){},this.getDeviceManufacturer=function(){},this.getDeviceModel=function(){},this.getDeviceType=function(){},this.getDeviceVersion=function(){},this.getFrameworkName=function(){},this.getFrameworkVersion=function(){},this.getOperatingSystemName=function(){},this.getOperatingSystemVersion=function(){},this.getDeviceCategory=function(){},this.getScreenWidth=function(){},this.getScreenHeight=function(){},this.getScaleFactor=function(){},this.release=function(){}},v=ht.StorageInterface=function(){this.saveData=function(){},this.loadData=function(){},this.release=function(){}},d=ht.SystemInterface=function(){(function(t,n,i,e,s,o){Q.mn(t,new E,"TimeInterface"),Q.mn(n,new p,"TimerInterface"),Q.mn(i,new r,"HttpInterface"),Q.mn(e,new v,"StorageInterface"),Q.mn(s,new l,"MetadataInterface"),Q.mn(o,new h,"LoggingInterface"),this.ni=t,this.ii=n,this.ei=i,this.si=e,this.oi=s,this.ri=o}).apply(this,arguments),this.release=function(){this.ni&&(this.ni.release(),this.ni=null),this.ii&&(this.ii.release(),this.ii=null),this.ei&&(this.ei.release(),this.ei=null),this.si&&(this.si.release(),this.si=null),this.oi&&(this.oi.release(),this.oi=null),this.ri&&(this.ri.release(),this.ri=null)}},E=ht.TimeInterface=function(){this.getEpochTimeMs=function(){},this.release=function(){}},p=ht.TimerInterface=function(){this.createTimer=function(){},this.release=function(){}},R=ht.SystemFactory=function(){var t=this;(function(t,n){if(!(t instanceof d))throw new Error("systemInterface parameter should be an instance of SystemInterface.");this.ui=t,this.ni=this.ui.ni,this.ii=this.ui.ii,this.ei=this.ui.ei,this.si=this.ui.si,this.oi=this.ui.oi,this.ri=this.ui.ri,this.R=n instanceof w?n.tt():new w}).apply(this,arguments),this.nt=function(t,n,i){this.hi=t,this.ai=n,this.fi=i},this.release=function(){this.ui.release(),this.ui=null,this.hi=null,this.R=null,this.ci=null};var n=function(){return new et(t.ri,t.ni,t.kt(),t.ci,t.hi)};this.buildLogger=function(){return n()},this.ht=function(t,n,i){return new W(t,n,i,this)},this.li=function(t){return new z(this.buildLogger(),this.vi(),this.ai,t)},this.di=function(){return new x(this.buildTimer(t.fi))},this.Ei=function(){var t=new rt(this.buildLogger(),this.ii,new J(this.buildLogger(),null,this.kt()));return new x(t)},this.vi=function(){return new it(this.buildLogger(),this.ei,this.Ei(),this.kt())},this.it=function(t){return new J(this.buildLogger(),this.li(t),this.kt())},this.buildTime=function(){return new ot(this.ni,this.buildLogger())},this.buildTimer=function(t){return new rt(this.buildLogger(),this.ii,this.it(t))},this.pi=function(){return new ut.Storage(this.buildLogger(),this.si,this.di(),this.kt())},this.et=function(){return new q(this.buildLogger(),this.pi(),this.Ri())},this.wi=function(t){return new st(this.buildLogger(),this.oi,this.it(t))},this.Ti=function(){return new H},this.Si=function(t,n){return new X(t,this.buildLogger(),this.vi(),this.Ri(),n)},this.gi=function(t,n,i,e,s){var o=this.Si(n,e.custom["c3.domain"]);return new j(this.Ni(),t,n,this.buildLogger(),this.it(s),this.buildTimer(s),o,this.Ti(),this.buildTime(),this.Oi(),i,e,s)},this._i=function(t,n,i,e,s,o,r){o=this.gi(t,n.tt(),i,o,r);return new K(e,s,i,this.wi(r),o,this.it(r),this.buildLogger())},this.Ni=function(){return new Y},this.Ri=function(){return new B},this.Oi=function(){return this.ci},this.kt=function(){return this.R},this.ci=new Z},w=ht.SystemSettings=function(){this.Ai=w.Ci,Q.Yt(this,"logLevel",function(){return this.Ai}),Q.Jt(this,"logLevel",function(t){var n;"number"!==typeof t||(n=Q.Zt(t))===t&&n>=w.LogLevel.DEBUG&&n<=w.LogLevel.ERROR&&(this.Ai=n)}),this.Ii=w.yi,Q.Yt(this,"allowUncaughtExceptions",function(){return this.Ii}),Q.Jt(this,"allowUncaughtExceptions",function(t){Q.mi(t)&&(this.Ii=t)}),this.Di=w.Pi,Q.Yt(this,"storageTimeout",function(){return this.Di}),Q.Jt(this,"storageTimeout",function(t){var n;"number"!==typeof t||(n=Q.Zt(t))===t&&(this.Di=n)}),this.bi=w.Mi,Q.Yt(this,"httpTimeout",function(){return this.bi}),Q.Jt(this,"httpTimeout",function(t){var n;"number"!==typeof t||(n=Q.Zt(t))===t&&(this.bi=n)}),function(){}.apply(this,arguments),this.equals=function(t){return this.logLevel===t.logLevel&&this.allowUncaughtExceptions===t.allowUncaughtExceptions&&this.storageTimeout===t.storageTimeout&&this.httpTimeout===t.httpTimeout},this.tt=function(){var t=new w;return t.logLevel=this.logLevel,t.allowUncaughtExceptions=this.allowUncaughtExceptions,t.storageTimeout=this.storageTimeout,t.httpTimeout=this.httpTimeout,t}};w.LogLevel={DEBUG:T.LogLevel.DEBUG,INFO:T.LogLevel.INFO,WARNING:T.LogLevel.WARNING,ERROR:T.LogLevel.ERROR,NONE:T.LogLevel.NONE},w.Li=w.LogLevel.DEBUG,w.Ci=w.LogLevel.NONE,w.Ui=!0,w.yi=!1,w.Pi=10,w.Mi=10;var i=ut.AdAnalytics=function(){var e=this;function n(t){e.Vi?(Q.mt(t)>0&&e.setAdInfo(t),e.Vi.ki()||(e.Vi.Fi(e.Hi),e.Vi.Bi(!0))):e.l}e.Gi=null,e.d=null,e.ji=null,e.Hi=null,e.Vi=null,e.Ki=null,e.Wi=null,e.xi=null,function(t,n,i){e.Gi=t,e.xi=i,e.d=n,i&&(e.Hi=i.qi()),e.ji=n.buildTimer(T.version),e.Vi=new o(e.Gi,e.ji),g.call(this)}.apply(this,arguments),this.setAdInfo=function(t){Q.mt(t)<=0?e.l:(e.l,e.Vi&&e.Vi.Yi(t))},this.setAdPlayerInfo=function(t){Q.mt(t)<=0?e.l:(e.l,e.Vi&&e.Vi.Yi(t))},this.reportAdMetric=function(){0!==arguments.length?1===arguments.length?e.Ji(arguments[0]):2===arguments.length?e.Ji(arguments[0],arguments[1]):3===arguments.length?e.Ji(arguments[0],arguments[1],arguments[2]):4===arguments.length&&e.Ji(arguments[0],arguments[1],arguments[2],arguments[3]):e.l},this.setCallback=function(t){e.Vi&&e.Vi.Xi(t)},this.reportAdFailed=function(t,n){e.Vi?(Q.mt(n)>0&&e.setAdInfo(n),e.Vi.ki()?(e.l,e.reportAdError(t,a.ErrorSeverity.FATAL),e.reportAdEnded()):(e.Vi.Fi(e.Hi),e.l,t=new nt(t,a.ErrorSeverity.FATAL),e.Vi.Bi(!0,t))):e.l},this.reportAdLoaded=function(t){e.l,n(t)},this.reportAdStarted=function(t){e.l,n(t)},this.reportAdEnded=function(){e.Vi?(e.l,e.Vi.ki()&&(e.Vi.Fi(null),e.Vi.Bi(!1))):e.l},this.reportAdError=function(t,n){e.Vi?(e.l,n=new nt(t,n),e.Vi.Gn(n)):e.l},this.reportAdPlayerEvent=function(t,n){if(Q.St(t))if(e.l,0,e.Vi)switch(t){case T.Events.USER_WAIT_STARTED:case T.Events.BUMPER_VIDEO_STARTED:e.Vi.Ot();break;case T.Events.USER_WAIT_ENDED:case T.Events.BUMPER_VIDEO_ENDED:e.Vi.At();break;default:e.Vi.Qi(t,n)}else e.l;else e.l},this.reportAdSkipped=function(){e.Vi?(e.l,e.reportAdPlayerEvent(T.Events.AD_SKIPPED),e.reportAdEnded()):e.l},this.release=function(){e.l,e.Vi&&(e.Vi.ki()&&(e.Vi.Fi(null),e.Vi.Bi(!1)),e.Vi.Xi(null),e.Vi.Zi(),e.Vi=null),"undefined"!==typeof ht.AdProxyMonitor&&e.Wi&&(ht.AdProxyMonitor.release(e.Wi),e.Wi=null)},this.setAdListener=function(t,n){t&&("undefined"!==typeof n&&"undefined"!==typeof n.convivaModule?ht.AdProxyMonitor=n.convivaModule.AdProxyMonitor:"undefined"!==typeof ConvivaModule&&(ht.AdProxyMonitor=ConvivaModule.AdProxyMonitor),"undefined"!==typeof ht.AdProxyMonitor&&(!t&&e.Wi?(ht.AdProxyMonitor.release(e.Wi),e.Wi=null):t&&e.Wi?(ht.AdProxyMonitor.release(e.Wi),e.l,e.Wi=ht.AdProxyMonitor.initConvivaDropIn(t,n,this,ht,e.d)):t&&!e.Wi&&(e.l,e.Wi=ht.AdProxyMonitor.initConvivaDropIn(t,n,this,ht,e.d))))},this.reportAdBreakStarted=function(t,n,i){e.Hi&&(e.l,e.zi=t,e.Ki=n,e.Hi.$i(t,n,i))},this.reportAdBreakEnded=function(){e.Hi&&(e.l,e.zi=null,e.Ki=null,e.Hi.te())},this.getSessionId=function(){return e.Hi?(e.l,e.Vi.Ft()):T.NO_SESSION_KEY},this.getClientId=function(){return e.Hi?(e.l,e.Vi.Ht()):null},this.getPlayerMonitor=function(){return e.Hi},this.getAdPlayerMonitor=function(){return e.Vi},this.getVideoAnalytics=function(){return e.xi},this.getAdType=function(){return e.Hi?e.Hi.zi:null},this.ne=function(){return e.Hi?e.Hi.Ki:null},i.prototype=Object.create(g.prototype),i.prototype.constructor=i},o=ut.AdPlayerMonitorImpl=function(){var s=this;s.ie=null,s.ee=null,function(t,n){N.call(this,t,n)}.apply(this,arguments),this.Fi=function(t){this.se()!==t&&(this.oe(),s.ee=t||null)},this.se=function(){return s.ee},this.re=function(t){var n,i=this.se(),e={};e.error=t,s.ie&&(s.ue=s.ie.getPlayerStateManager(!0),s.he(),s.ue.setClientMeasureInterface(this),n=null,i&&(n=i.ae()),s.fe=s.ie.createAdSession(n,s.Rt,s.ue,!0,e),"undefined"!==typeof t&&(s.ce(),s.Zi()))},o.prototype=Object.create(N.prototype),o.prototype.constructor=o},S=ht.Analytics={init:function(t,n,i){if(this.Gi,0,arguments.length<=0)throw new Error("customerKey must be valid");var e=null,s=null,o=null;if("string"===typeof t&&(e=t,!Q.St(e)))throw new Error("customerKey must be valid");arguments.length>=2&&"object"===typeof n&&(s=n),arguments.length>=3&&"object"===typeof i&&(o=i);var r=new f(e),u=new w;Q.mt(o)>0&&(o[T.GATEWAY_URL]&&(r.gatewayUrl=o[T.GATEWAY_URL]),o[T.LOG_LEVEL]>=0&&(u.logLevel=o[T.LOG_LEVEL]));t=new ht.Impl.Html5Logging,n=new ht.Impl.Html5Storage,i=new ht.Impl.Html5Http,e=new ht.Impl.Html5Timer,o=new ht.Impl.Html5Time;this.oi||(this.oi=new ht.Impl.Html5Metadata),s&&(s[T.CallbackFunctions.CONSOLE_LOG]&&(t.consoleLog=s[T.CallbackFunctions.CONSOLE_LOG]),s[T.CallbackFunctions.MAKE_REQUEST]&&(i.makeRequest=s[T.CallbackFunctions.MAKE_REQUEST]),s[T.CallbackFunctions.SAVE_DATA]&&(n.saveData=s[T.CallbackFunctions.SAVE_DATA]),s[T.CallbackFunctions.LOAD_DATA]&&(n.loadData=s[T.CallbackFunctions.LOAD_DATA]),s[T.CallbackFunctions.GET_EPOCH_TIME_IN_MS]&&(o.getEpochTimeMs=s[T.CallbackFunctions.GET_EPOCH_TIME_IN_MS]),s[T.CallbackFunctions.CREATE_TIMER]&&(e.createTimer=s[T.CallbackFunctions.CREATE_TIMER])),this.ui=new d(o,e,i,n,this.oi,t),this.d=new R(this.ui,u),this.d.nt("Analytics",r),this.Gi=new a(r,this.d,this.le,S.version)},release:function(){var t=0;if(this.ve){for(t=0;t<this.ve.length;t++){var n=this.ve[t];n&&(n.release(),n.l=null,n.ji=null,this.ve.splice(t,1),t--)}this.ve=null}if(this.de){for(t=0;t<this.de.length;t++){var i=this.de[t];i&&(i.release(),i.l=null,i.ji=null,this.de.splice(t,1),t--)}this.de=null}this.d&&(this.d.release(),this.d=null),this.Gi&&(this.Gi.release(),this.Gi=null),this.Gi=null,this.l=null,this.ui=null,this.oi=null,this.le=null},setUniqueIdentifier:function(t,n){if(!this.Gi)throw new Error(T.i);this.Gi.setUniqueIdentifier(t,n)},setUserPreferenceForDataCollection:function(t,n){if(!this.Gi)throw new Error(T.i);this.Gi.setUserPreferenceForDataCollection(t,n)},setUserPreferenceForDataDeletion:function(t){if(!this.Gi)throw new Error(T.i);this.Gi.setUserPreferenceForDataDeletion(t)},reportAppEvent:function(t,n){if(!this.Gi)throw new Error(T.i);this.Gi.sendCustomEvent(a.NO_SESSION_KEY,t,n)},reportAppBackgrounded:function(){if(!this.Gi)throw new Error(T.i);this.Gi.sendCustomEvent(a.NO_SESSION_KEY,"App.Backgrounded",null)},reportAppForegrounded:function(){if(!this.Gi)throw new Error(T.i);this.Gi.sendCustomEvent(a.NO_SESSION_KEY,"App.Foregrounded",null)},configureExistingClient:function(t){if(!(t instanceof a))throw new Error(T.i);this.Gi=t,this.d=this.Gi.d},buildVideoAnalytics:function(){if(!this.Gi)throw new Error(T.i);var t=new C(this.Gi,this.d);return this.de||(this.de=[]),this.de.push(t),t},buildAdAnalytics:function(t){if(!this.Gi)throw new Error(T.i);t=new i(this.Gi,this.d,t||null);return this.ve||(this.ve=[]),this.ve.push(t),t},setDeviceMetadata:function(t){var n,i,e;arguments.length<=0||0===Q.mt(t)||(this.oi||(this.oi=new ht.Impl.Html5Metadata),t[T.DeviceMetadata.BRAND]&&(this.oi.getDeviceBrand=function(){return t[T.DeviceMetadata.BRAND]}),t[T.DeviceMetadata.MANUFACTURER]&&(this.oi.getDeviceManufacturer=function(){return t[T.DeviceMetadata.MANUFACTURER]}),t[T.DeviceMetadata.MODEL]&&(this.oi.getDeviceModel=function(){return t[T.DeviceMetadata.MODEL]}),t[T.DeviceMetadata.TYPE]&&(this.oi.getDeviceType=function(){return t[T.DeviceMetadata.TYPE]}),t[T.DeviceMetadata.VERSION]&&(this.oi.getDeviceVersion=function(){return t[T.DeviceMetadata.VERSION]}),t[T.DeviceMetadata.OS_NAME]&&(this.oi.getOperatingSystemName=function(){return t[T.DeviceMetadata.OS_NAME]}),t[T.DeviceMetadata.OS_VERSION]&&(this.oi.getOperatingSystemVersion=function(){return t[T.DeviceMetadata.OS_VERSION]}),t[T.DeviceMetadata.CATEGORY]&&(this.oi.getDeviceCategory=function(){return t[T.DeviceMetadata.CATEGORY]}),n=t[T.DeviceMetadata.SCREEN_RESOLUTION_WIDTH],Q.dt(n)&&(this.oi.getScreenWidth=function(){return n.toString()}),i=t[T.DeviceMetadata.SCREEN_RESOLUTION_HEIGHT],Q.dt(i)&&(this.oi.getScreenHeight=function(){return i.toString()}),e=t[T.DeviceMetadata.SCREEN_RESOLUTION_SCALE_FACTOR],Q.dt(e)&&(this.oi.getScaleFactor=function(){return e.toString()}))},reportDeviceMetric:function(t,n){switch(this.le||(this.le={}),t){case T.Network.CONNECTION_TYPE:if(!Q.St(n))return void 0;this.le[t]=n,this.Gi&&this.Gi.W(this.le[T.Network.CONNECTION_TYPE]);break;case T.Network.LINK_ENCRYPTION:if(!Q.St(n))return void 0;this.le[t]=n,this.Gi&&this.Gi.J(this.le[T.Network.LINK_ENCRYPTION]);break;case T.Network.SIGNAL_STRENGTH:var i=parseInt(n,10);if(!Q.dt(i))return void 0;if(u.DEFAULT_SIGNAL_STRENGTH===i)return void 0;this.le[t]=i,this.Gi&&this.Gi.Q(i);break;default:0}}};S.version="4.5.7";var g=ut.AnalyticsImpl=function(){var a=this;function f(){var t=!!a.Vi,n=a.getAdType(),i=a.ne();return n===T.AdType.SERVER_SIDE&&i===T.AdPlayer.CONTENT?g.pe.Ee:n!==T.AdType.SERVER_SIDE||i!==T.AdPlayer.SEPARATE?n===T.AdType.CLIENT_SIDE&&i===T.AdPlayer.CONTENT?g.pe.Re:(n===T.AdType.CLIENT_SIDE&&T.AdPlayer.SEPARATE,t?g.pe.Re:g.pe.we):void 0}function c(t,n,i){t=parseInt(t,10),n=parseInt(n,10);isNaN(t)&&isNaN(n)||(isNaN(t),isNaN(n),!a.Vi||i!==g.pe.Re&&i!==g.pe.Ee||a.Vi.Te(t,n),!a.Hi||i!==g.pe.we&&i!==g.pe.Ee||a.Hi.Te(t,n))}function l(t,n){u.jn(t)&&(!a.Vi||n!==g.pe.Re&&n!==g.pe.Ee||a.Vi.Se(t),(a.Hi&&n===g.pe.we||n===g.pe.Ee)&&a.Hi.Se(t))}function v(t,n){t=parseInt(t,10);isNaN(t)||(!a.Vi||n!==g.pe.Re&&n!==g.pe.Ee||a.Vi.ge(t),!a.Hi||n!==g.pe.we&&n!==g.pe.Ee||a.Hi.ge(t))}function d(t,n){t=parseInt(t,10);isNaN(t)||(!a.Vi||n!==g.pe.Re&&n!==g.pe.Ee||a.Vi.Ne(t),!a.Hi||n!==g.pe.we&&n!==g.pe.Ee||a.Hi.Ne(t))}function E(t,n){t=parseInt(t,10);!a.Vi||n!==g.pe.Re&&n!==g.pe.Ee||a.Vi.Oe(!0,t),!a.Hi||n!==g.pe.we&&n!==g.pe.Ee||a.Hi.Oe(!0,t)}function p(t){!a.Vi||t!==g.pe.Re&&t!==g.pe.Ee||a.Vi.Oe(!1,-1),!a.Hi||t!==g.pe.we&&t!==g.pe.Ee||a.Hi.Oe(!1,-1)}function R(t,n){t=parseInt(t,10);isNaN(t)||(!a.Vi||n!==g.pe.Re&&n!==g.pe.Ee||a.Vi._e(t),!a.Hi||n!==g.pe.we&&n!==g.pe.Ee||a.Hi._e(t))}function w(t,n){t=parseInt(t,10);isNaN(t)||(!a.Vi||n!==g.pe.Re&&n!==g.pe.Ee||a.Vi.Ae(t),!a.Hi||n!==g.pe.we&&n!==g.pe.Ee||a.Hi.Ae(t))}(function(){}).apply(this,arguments),this.Ji=function(t,n,i,e){switch(0,t){case T.Playback.BITRATE:0,e===g.pe.Re?R(n,g.pe.Re):R(n,f());break;case T.Playback.PLAY_HEAD_TIME:e===g.pe.Re?v(n,g.pe.Re):v(n,f());break;case T.Playback.RESOLUTION:e===g.pe.Re?c(n,i,g.pe.Re):c(n,i,f());break;case T.Playback.BUFFER_LENGTH:e===g.pe.Re?d(n,g.pe.Re):d(n,f());break;case T.Playback.PLAYER_STATE:e===g.pe.Re?l(n,g.pe.Re):l(n,f());break;case T.Playback.RENDERED_FRAMERATE:e===g.pe.Re?w(n,g.pe.Re):w(n,f());break;case T.Playback.SEEK_STARTED:arguments.length>=2&&"CONVIVA"!==n?E(n,f()):i===g.pe.Re?E(-1,g.pe.Re):E(-1,f());break;case T.Playback.SEEK_ENDED:i===g.pe.Re?p(g.pe.Re):p(f());break;case T.Playback.CDN_IP:0,u=n,h=f(),Q.St(u)&&(!a.Vi||h!==g.pe.Re&&h!==g.pe.Ee||a.Vi.Ce(u),!a.Hi||h!==g.pe.we&&h!==g.pe.Ee||a.Hi.Ce(u));break;case T.Playback.DROPPED_FRAMES_TOTAL:0,r=n,u=f(),r=parseInt(r,10),isNaN(r)||(!a.Vi||u!==g.pe.Re&&u!==g.pe.Ee||a.Vi.Ie(r),!a.Hi||u!==g.pe.we&&u!==g.pe.Ee||a.Hi.Ie(r));break;case T.Playback.DROPPED_FRAMES_COUNT:0,s=n,o=f(),s=parseInt(s,10),isNaN(s)||(!a.Vi||o!==g.pe.Re&&o!==g.pe.Ee||a.Vi.ye(s),!a.Hi||o!==g.pe.we&&o!==g.pe.Ee||a.Hi.ye(s));break;default:r=t,o=n,s=f(),!void(Q.St(r)&&o&&(!a.Vi||s!==g.pe.Re&&s!==g.pe.Ee||a.Vi.Bt(r,o),!a.Hi||s!==g.pe.we&&s!==g.pe.Ee||a.Hi.Bt(r,o)))}var s,o,r,u,h}};ut.AnalyticsImpl.pe={Re:1,we:2,Ee:3};var e=ut.PlayerMonitor=function(){var e=this;this.me=null,this.De=null,this.Rt=null,this.Pe=null,this.En=u.PlayerState.UNKNOWN,this.be=-1,this.Me=-1,this.An=[],this.Le=null,this.Ue=null,this.Ve=-2,this.Rn=-1,this.y=u.DEFAULT_SIGNAL_STRENGTH,this.ke=null,this.Zn=null,this.I=null,this.C=null,this.ji=null,this.Fe=null,this.He=null,this.Be=null,this.Ge=null,this.zi=null,this.Ki=null,function(t){e.ji=t}.apply(this,arguments),this.je=function(){return e.En},this.Se=function(t){e.En!==t&&(e.oe(),e.En=t,e.Ke())},this.We=function(){return e.xe},this.qe=function(){return e.Ye},this.Oe=function(t,n){e.oe(),e.xe=t,e.Ye=n,e.Je()},this.Xe=function(){return e.be},this.ge=function(t){e.be=t},this.Qe=function(){return e.Me},this.Ne=function(t){e.Me=t},this.Ze=function(){return e.Ve},this._e=function(t){e.Ve!==t&&(e.Ve=t,e.Ke())},this.ze=function(){return e.Rn},this.Ae=function(t){e.Rn=t},this.$e=function(){return e.ke},this.Ce=function(t){e.ke=t,e.Ke()},this.Qn=function(){return e.Zn},this.Ie=function(t){e.Zn=t,e.Ke()},this.ye=function(t){e.ts(t)},this.ns=function(){return e.y},this.es=function(){return e.ss},this.os=function(){return e.rs},this.Te=function(t,n){t<0&&(t=0),n<0&&(n=0),e.ss===t&&e.rs===n||(e.ss=t,e.rs=n,e.Ke())},this.us=function(){return e.De},this.hs=function(){e.us()&&(e.Rt=new c,e.Pe={},e.He={},e.as())},this.fs=function(t){(e.De||t)&&(this.oe(),e.De&&(e.De=null,e.hs()),t&&(e.De=Q.cs(e.De,t),e.hs()))},this.Yi=function(t){if(t)if(e.Rt){var n,i=!1;for(n in t)if(e.Rt[n]!==t[n]){i=!0;break}i&&(e.oe(),e.De=Q.cs(t),e.as())}else e.fs(t)},this.Xi=function(t){t?e.Be!==t&&(e.Be=t,e.ls()):(e.Be=null,e.ce())},this.oe=function(){e.vs||e.Be&&(e.vs=!0,e.Be(),e.vs=!1)},this.ki=function(){return e.me},this.Bi=function(t,n){e.me!==t&&(e.oe(),e.me&&(e.ds(),e.ce(),e.Zi()),e.me=t,e.me&&e.re(n))},this.Es=function(){return e.Le},this.ps=function(){return e.Ue||null},this.Rs=function(){return e.An},this.ws=function(){e.An=[]},this.Gn=function(t){this.oe(),e.An.push(t),e.Jn()},this.Qi=function(t,n){e.oe(),e.Le=t,e.Ue=n,e.Ts()},this.Ss=function(){e.oe()},this.ls=function(){e.ce(),e.Fe=e.ji.create(e.Ss,1e3,"PlayerMonitor.update")},this.ce=function(){e.Fe&&(e.Fe(),e.Fe=null)},this.$i=function(t,n,i){e.Ge=i,e.zi=t,e.gs(),e.Ki=n,e.zi&&T.AdType.CLIENT_SIDE===e.zi&&(e.En=T.PlayerState.UNKNOWN,e.Ns(e.zi,n,i?i[T.POD_POSITION]:null))},this.te=function(){e.zi&&T.AdType.CLIENT_SIDE===e.zi&&(e.Os(),e.En=T.PlayerState.UNKNOWN),e._s(),e.zi=null,e.Ki=null},this.As=function(){return e.Ge},this.Cs=function(){return e.zi},this.getContentMetadata=function(){return this.Rt},this.Zi=function(){this.me=null,this.De=null,this.Rt=null,this.Pe=null,this.En=u.PlayerState.UNKNOWN,this.be=-1,this.Me=-1,this.An=[],this.Le=null,this.Ue=null,this.Ve=-2,this.Rn=-1,this.y=u.DEFAULT_SIGNAL_STRENGTH,this.ke=null,this.Zn=null,this.I=null,this.C=null,this.ji=null,this.Fe=null,this.He=null,this.Be=null,this.Ge=null,this.zi=null,this.Ki=null,e.ue=null,e.fe=a.NO_SESSION_KEY}},N=ut.PlayerMonitorImpl=function(){var r=this;r.ie=null,r.ue=null,r.fe=a.NO_SESSION_KEY,function(t,n){e.call(this,n),r.ie=t}.apply(this,arguments),this.getPHT=function(){return r.Xe()},this.getBufferLength=function(){return r.Qe()},this.getRenderedFrameRate=function(){return r.ze()},this.getSignalStrength=function(){return r.ns()},this.Je=function(){r.ue&&r.Is!==a.NO_SESSION_KEY&&(r.We()?r.ue.setPlayerSeekStart(r.qe()):r.ue.setPlayerSeekEnd())},this.Ke=function(){r.ue&&(r.ue.setPlayerState(r.je()),r.Ze()>0&&r.ue.setBitrateKbps(r.Ze()),r.es()>0&&r.ue.setVideoResolutionWidth(r.es()),r.os()>0&&r.ue.setVideoResolutionHeight(r.os()),r.$e()&&r.ue.setCDNServerIP(r.$e()),Q.dt(r.Qn())&&r.ue.setDroppedFramesTotal(r.Qn()))},this.Nt=function(){r.fe!==a.NO_SESSION_KEY&&r.ie&&r.ie.updateContentMetadata(r.fe,r.Rt)},this.he=function(){if(r.ue){var t,n,i;r.He&&Q.mt(r.He)>0&&(r.He[T.MODULE_NAME]&&r.He[T.MODULE_VERSION]&&(t=r.He[T.MODULE_NAME],n=r.He[T.MODULE_VERSION],Q.St(t)&&Q.St(n)&&r.ue.setModuleNameAndVersion(t,n)),r.He[T.FRAMEWORK_NAME]&&(i=r.He[T.FRAMEWORK_NAME],Q.St(i)&&r.ue.setPlayerType(i)),r.He[T.FRAMEWORK_VERSION]&&(i=r.He[T.FRAMEWORK_VERSION],Q.St(i)&&r.ue.setPlayerVersion(i)));var e=r.Rs();r.ws();for(var s=0;s<e.length;s++){var o=e[s];r.ue.Gn(o)}}},this.Os=function(){r.ue&&r.fe!==a.NO_SESSION_KEY&&(r.Ke(),this.ys())},this.At=function(){r.ue&&r.fe!==a.NO_SESSION_KEY&&(r.Ke(),r.ie.Ct(r.fe))},this.ys=function(){r.ie&&r.fe!==T.NO_SESSION_KEY&&r.ie.adEnd(r.fe)},this.Ns=function(t,n,i){var e;r.ue&&r.fe!==T.NO_SESSION_KEY&&(e=null,T.AdType.CLIENT_SIDE===t?e=a.AdStream.SEPARATE:T.AdType.SERVER_SIDE===t&&(e=a.AdStream.CONTENT),r.ms(e,n,i))},this.Ot=function(){r.ue&&r.fe!==T.NO_SESSION_KEY&&r.ie._t(r.fe)},this.ms=function(t,n,i){r.ie&&r.fe!==T.NO_SESSION_KEY&&r.ie.adStart(r.fe,t,n,i)},this.re=function(){if(r.ie){r.ue=r.ie.getPlayerStateManager(!0),r.he(),r.ue.setClientMeasureInterface(this);try{var t;r.Rt&&r.Rt.custom&&!r.Rt.custom[T.UTM_TRACKING_URL]&&(Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var n=Object(this),i=n.length>>>0;if("function"!==typeof t)throw new TypeError;for(var e,s=[],o=arguments.length>=2?arguments[1]:void 0,r=0;r<i;r++)r in n&&(e=n[r],t.call(o,e,r,n)&&s.push(e));return s}),""!==(t=Q.Ds().split("?").join("").split("&").filter(function(t){return 2===t.split("=").length&&t.split("=")[0].toLowerCase().indexOf("utm_")>=0}).join("&"))&&(r.Rt.custom[T.UTM_TRACKING_URL]=t))}catch(t){r.l.error("PlayerMonitorImpl _createSession : "+t)}r.fe=r.ie.createSession(r.Rt,r.ue,!0)}},this.ds=function(){r.ie&&(r.ue&&(r.ue.setPlayerState(T.PlayerState.STOPPED),r.ue=null),r.fe!==T.NO_SESSION_KEY&&(r.ie.cleanupSession(r.fe),r.fe=T.NO_SESSION_KEY))},this.Jn=function(){if(r.ie&&r.fe!==a.NO_SESSION_KEY){var t=r.Rs();r.ws();for(var n=0;n<t.length;n++){var i=t[n];r.ie.reportError(r.fe,i.Ps(),i.bs())}}},this.Ts=function(){r.fe!==a.NO_SESSION_KEY&&r.ie&&r.ie.sendCustomEvent(r.fe,r.Es(),r.ps())},this.as=function(){var t,n=r.us(),i=!1,e=!1;for(t in n){var s=n[t];if(Q.St(t)&&null!==s&&void 0!==s)switch(t){case T.STREAM_URL:e=!0,r.Rt.streamUrl=s;break;case T.ASSET_NAME:e=!0,r.Rt.assetName=s;break;case T.DEFAULT_RESOURCE:e=!0,r.Rt.defaultResource=s;break;case T.VIEWER_ID:e=!0,r.Rt.viewerId=s;break;case T.PLAYER_NAME:e=!0,r.Rt.applicationName=s;break;case T.DURATION:e=!0,r.Rt.duration=s;break;case T.IS_LIVE:e=!0,r.Rt.streamType=s;break;case T.ENCODED_FRAMERATE:e=!0,r.Rt.encodedFrameRate=s;break;case T.MODULE_NAME:case T.MODULE_VERSION:case T.FRAMEWORK_NAME:case T.FRAMEWORK_VERSION:i=!0,r.He[t]=s;break;case T.APPLICATION_VERSION:default:e=!0,r.Rt.custom[t]=s}}i&&this.he(),e&&this.Nt()},this.gs=function(){this.Ms(T.Events.POD_START)},this._s=function(){this.Ms(T.Events.POD_END)},this.Ms=function(t){var n,i,e,s;r.ie&&r.fe!==T.NO_SESSION_KEY&&(i={},(n=this.As())&&((e=n[T.POD_POSITION])&&(i[T.POD_POSITION]=e),(e=n[T.POD_INDEX])&&(i[T.POD_INDEX]=e+""),t!==T.Events.POD_START||(s=n[T.POD_DURATION])&&(i[T.POD_DURATION]=s+"")),(s=this.Cs())&&(i[T.AD_TYPE]=s),r.ie.sendCustomEvent(r.fe,t,i))},this.ts=function(t){r.ue.setDroppedFramesCount(t)},this.Ls=function(t){this.fe===T.NO_SESSION_KEY&&t!==T.NO_SESSION_KEY&&(this.fe=t)},this.ae=function(){return this.fe},this.Ft=function(){return r.ie.getSessionId(this.fe)},this.Ht=function(){return r.ie.getClientId(this.fe)},this.Bt=function(t,n){r.ie.Bt(this.fe,t,n)},N.prototype=Object.create(e.prototype),N.prototype.constructor=N};ht.Impl=ht.Impl||{},ht.Impl.Html5Http=function(){(function(){}).apply(this,arguments),this.makeRequest=function(){return this.makeRequestStandard.apply(this,arguments)},this.makeRequestStandard=function(t,n,i,e,s,o){var r=new XMLHttpRequest;return r.open(t,n,!0),e&&r.overrideMimeType&&(r.overrideMimeType=e),e&&r.setRequestHeader&&r.setRequestHeader("Content-Type",e),s>0&&(r.timeout=s,r.ontimeout=function(){r.ontimeout=r.onreadystatechange=null,o&&o(!1,"timeout after "+s+" ms")}),r.onreadystatechange=function(){4===r.readyState&&(r.ontimeout=r.onreadystatechange=null,200===r.status?o&&o(!0,r.responseText):o&&o(!1,"http status "+r.status))},r.send(i),null},this.release=function(){}},ht.Impl=ht.Impl||{},ht.Impl.Html5Logging=function(){(function(){}).apply(this,arguments),this.consoleLog=function(t,n){"undefined"!==typeof console&&(console.log&&n===w.LogLevel.DEBUG||n===w.LogLevel.INFO?console.log(t):console.warn&&n===w.LogLevel.WARNING?console.warn(t):console.error&&n===w.LogLevel.ERROR&&console.error(t))},this.release=function(){}},ht.Impl=ht.Impl||{},ht.Impl.Html5Metadata=function(){(function(){}).apply(this,arguments),this.getBrowserName=function(){return null},this.getBrowserVersion=function(){return null},this.getDeviceBrand=function(){return null},this.getDeviceManufacturer=function(){return null},this.getDeviceModel=function(){return null},this.getDeviceType=function(){return null},this.getDeviceVersion=function(){return null},this.getFrameworkName=function(){return null},this.getFrameworkVersion=function(){return null},this.getOperatingSystemName=function(){return null},this.getOperatingSystemVersion=function(){return null},this.getDeviceCategory=function(){return null},this.getScreenWidth=function(){return"undefined"!==typeof window&&window&&window.screen&&window.screen.width?window.screen.width.toString():null},this.getScreenHeight=function(){return"undefined"!==typeof window&&window&&window.screen&&window.screen.height?window.screen.height.toString():null},this.getScaleFactor=function(){return"undefined"!==typeof window&&window&&window.devicePixelRatio?window.devicePixelRatio.toString():null},this.release=function(){}},ht.Impl=ht.Impl||{},ht.Impl.Html5Storage=function(){(function(){}).apply(this,arguments),this.saveData=function(t,n,i,e){var s=t+"."+n;try{localStorage.setItem(s,i),e(!0,null)}catch(t){e(!1,t.toString())}},this.loadData=function(t,n,i){var e=t+"."+n;try{i(!0,localStorage.getItem(e))}catch(t){i(!1,t.toString())}},this.release=function(){}},ht.Impl=ht.Impl||{},ht.Impl.Html5Time=function(){(function(){}).apply(this,arguments),this.getEpochTimeMs=function(){return(new Date).getTime()},this.release=function(){}},ht.Impl=ht.Impl||{},ht.Impl.Html5Timer=function(){(function(){}).apply(this,arguments),this.createTimer=function(t,n){var i=setInterval(t,n);return function(){-1!==i&&(clearInterval(i),i=-1)}},this.release=function(){}};var n,s,O,_,A,C=ut.VideoAnalytics=function(){var s=this;s.Gi=null,s.d=null,s.ji=null,s.Hi=null,s.Wi=null,this.release=function(){s.l,s.Hi&&s.Hi.ki()&&s.Hi.Bi(!1),"undefined"!==typeof ht.ProxyMonitor&&s.Wi&&(ht.ProxyMonitor.release(s.Wi),s.Wi=null),s.Hi&&(s.Hi.Xi(null),s.Hi.Zi(),s.Hi=null),s.ji=null},function(t,n){s.Gi=t,s.d=n,s.ji=n.buildTimer(T.version),s.Hi=new N(s.Gi,s.ji),g.call(this)}.apply(this,arguments),this.reportPlaybackRequested=function(t){s.l,s.Hi&&(Q.mt(t)>0&&s.setContentInfo(t),s.Hi.ki()||s.Hi.Bi(!0))},this.reportPlaybackEnded=function(){s.l,s.Hi&&s.Hi.ki()&&(s.Hi.Bi(!1),"undefined"!==typeof ht.ProxyMonitor&&s.Wi&&(ht.ProxyMonitor.release(s.Wi),s.Wi=null),s.Hi.Xi(null))},this.reportPlaybackFailed=function(t,n){s.Hi&&(Q.mt(n)>0&&s.setContentInfo(n),s.Hi.ki()||s.Hi.Bi(!0),s.l,s.reportPlaybackError(t,a.ErrorSeverity.FATAL),s.reportPlaybackEnded())},this.setContentInfo=function(t){Q.mt(t)<=0||s.Hi&&(s.l,s.Hi.Yi(t))},this.setPlayerInfo=function(t){Q.mt(t)<=0||s.Hi&&(s.l,s.Hi.Yi(t))},this.reportPlaybackMetric=function(){0!==arguments.length&&(1===arguments.length?s.Ji(arguments[0]):2===arguments.length?s.Ji(arguments[0],arguments[1]):3===arguments.length?s.Ji(arguments[0],arguments[1],arguments[2]):4===arguments.length&&s.Ji(arguments[0],arguments[1],arguments[2],arguments[3]))},this.reportPlaybackError=function(t,n){s.Hi&&Q.St(t)&&(s.l,n=new nt(t,n),s.Hi.Gn(n))},this.reportPlaybackEvent=function(t,n){if(Q.St(t)&&s.Hi&&(s.l,s.Hi))switch(t){case T.Events.USER_WAIT_STARTED:case T.Events.BUMPER_VIDEO_STARTED:s.Hi.Ot();break;case T.Events.USER_WAIT_ENDED:case T.Events.BUMPER_VIDEO_ENDED:s.Hi.At();break;default:s.Hi.Qi(t,n)}},this.setCallback=function(t){s.l,s.Hi&&s.Hi.Xi(t)},this.reportAdBreakStarted=function(t,n,i){s.Hi&&(s.l,s.Hi.$i(t,n,i))},this.reportAdBreakEnded=function(){s.Hi&&(s.l,s.Hi.te())},this.setPlayer=function(t,n){var i,e;void 0!==t&&(n&&(i=n[T.CONVIVA_MODULE],e=n[T.MEDIA_ELEMENT]),"undefined"!==typeof i?ht.ProxyMonitor=i.ProxyMonitor:"undefined"!==typeof ConvivaModule&&(ht.ProxyMonitor=ConvivaModule.ProxyMonitor),"undefined"!==typeof ht.ProxyMonitor&&(s.l,!t&&s.Wi?(ht.ProxyMonitor.release(s.Wi),s.Wi=null):t?(s.Wi&&ht.ProxyMonitor.release(s.Wi),s.l,s.Wi="undefined"!==typeof e?ht.ProxyMonitor.initConvivaDropIn(t,e,s.d,this,ht):ht.ProxyMonitor.initConvivaDropIn(t,s.d,this,ht)):t||"undefined"===typeof e||(s.Wi=ht.ProxyMonitor.initConvivaDropIn(t,e,s.d,this,ht))))},this.setAdAnalytics=function(t){t?s.getAdType()&&(s.getAdType()===T.AdType.SERVER_SIDE?s.Vi=t.getAdPlayerMonitor():s.getAdType()===T.AdType.CLIENT_SIDE&&s.l):s.Vi=null},this.configureExistingSession=function(t){t!==T.NO_SESSION_KEY&&s.Hi&&(s.l,s.Hi.Ls(t))},this.getSessionId=function(){return s.Hi?(s.l,s.Hi.Ft()):T.NO_SESSION_KEY},this.getClientId=function(){return s.Hi?(s.l,s.Hi.Ht()):null},this.qi=function(){return s.l,this.Hi},this.getAdType=function(){return s.Hi?s.Hi.zi:null},this.ne=function(){return s.Hi?s.Hi.Ki:null},C.prototype=Object.create(g.prototype),C.prototype.constructor=C};function I(t){throw{name:"SyntaxError",message:t,at:n,text:O}}function y(t){return t&&t!==s&&I("Expected \'"+t+"\' instead of \'"+s+"\'"),s=O.charAt(n),n+=1,s}function t(){var t,n="";for("-"===s&&y(n="-");s>="0"&&s<="9";)n+=s,y();if("."===s)for(n+=".";y()&&s>="0"&&s<="9";)n+=s;if("e"===s||"E"===s)for(n+=s,y(),"-"!==s&&"+"!==s||(n+=s,y());s>="0"&&s<="9";)n+=s,y();if(t=+n,!isNaN(t))return t;I("Bad number")}function m(){var t,n,i,e="";if(\'"\'===s)for(;y();){if(\'"\'===s)return y(),e;if("\\\\"===s)if(y(),"u"===s){for(n=i=0;n<4&&(t=parseInt(y(),16),isFinite(t));n+=1)i=16*i+t;e+=String.fromCharCode(i)}else{if("string"!==typeof _[s])break;e+=_[s]}else e+=s}I("Bad string")}function D(){for(;s&&s<=" ";)y()}ut.JsonParse=(_={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\\t"},A=function(){switch(D(),s){case"{":return function(){var t,n={};if("{"===s){if(y("{"),D(),"}"===s)return y("}"),n;for(;s;){if(t=m(),D(),y(":"),Object.hasOwnProperty.call(n,t)&&I(\'Duplicate key "\'+t+\'"\'),n[t]=A(),D(),"}"===s)return y("}"),n;y(","),D()}}I("Bad object")}();case"[":return function(){var t=[];if("["===s){if(y("["),D(),"]"===s)return y("]"),t;for(;s;){if(t.push(A()),D(),"]"===s)return y("]"),t;y(","),D()}}I("Bad array")}();case\'"\':return m();case"-":return t();default:return(s>="0"&&s<="9"?t:function(){switch(s){case"t":return y("t"),y("r"),y("u"),y("e"),!0;case"f":return y("f"),y("a"),y("l"),y("s"),y("e"),!1;case"n":return y("n"),y("u"),y("l"),y("l"),null}I("Unexpected \'"+s+"\'")})()}},function(t,r){return O=t,n=0,s=" ",t=A(),D(),s&&I("Syntax error"),"function"===typeof r?function t(n,i){var e,s,o=n[i];if(o&&"object"===typeof o)for(e in o)Object.hasOwnProperty.call(o,e)&&(void 0!==(s=t(o,e))?o[e]=s:delete o[e]);return r.call(n,i,o)}({"":t},""):t});var P,b,M,L,U,V=ut.JSON2={};function k(t){return t<10?"0"+t:t}function F(t){return P.lastIndex=0,P.test(t)?\'"\'+t.replace(P,function(t){var n=L[t];return"string"===typeof n?n:"\\\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+\'"\':\'"\'+t+\'"\'}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+k(this.getUTCMonth()+1)+"-"+k(this.getUTCDate())+"T"+k(this.getUTCHours())+":"+k(this.getUTCMinutes())+":"+k(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!==typeof V.stringify&&(P=/[\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,L={"\\b":"\\\\b","\\t":"\\\\t","\\n":"\\\\n","\\f":"\\\\f","\\r":"\\\\r",\'"\':\'\\\\"\',"\\\\":"\\\\\\\\"},V.stringify=function(t,n,i){var e;if(M=b="","number"===typeof i)for(e=0;e<i;e+=1)M+=" ";else"string"===typeof i&&(M=i);if((U=n)&&"function"!==typeof n&&("object"!==typeof n||"number"!==typeof n.length))throw new Error("JSON2.stringify");return function t(n,i){var e,s,o,r,u,h=b,a=i[n];switch(a&&"object"===typeof a&&"function"===typeof a.toJSON&&(a=a.toJSON(n)),"function"===typeof U&&(a=U.call(i,n,a)),typeof a){case"string":return F(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(b+=M,u=[],Object.prototype.toString.apply(a)===Object.prototype.toString.apply([])){for(r=a.length,e=0;e<r;e+=1)u[e]=t(e,a)||"null";return o=0===u.length?"[]":b?"[\\n"+b+u.join(",\\n"+b)+"\\n"+h+"]":"["+u.join(",")+"]",b=h,o}if(U&&"object"===typeof U)for(r=U.length,e=0;e<r;e+=1)"string"===typeof U[e]&&(o=t(s=U[e],a))&&u.push(F(s)+(b?": ":":")+o);else for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o=t(s,a))&&u.push(F(s)+(b?": ":":")+o);return o=0===u.length?"{}":b?"{\\n"+b+u.join(",\\n"+b)+"\\n"+h+"}":"{"+u.join(",")+"}",b=h,o}}("",{"":t})});var H=ut.CwsProtocol=function(){this.Us=function(t,n,i,e){return e.seq=t,e.st=n,e.t=i,e},this.Vs=function(t,n){var i=H.ks;return this.Us(t,n,i,{})}};H.version="2.6",H.Fs="/0/wsg",H.M="0",H.Hs=-1,H.Bs=!1,H.Gs=2,H.js=-1,H.Ks=-1,H.Ws=1e3,H.xs="sdk.js.1",H.qs="CwsStateChangeEvent",H.Ys="CwsErrorEvent",H.ks="CwsSessionEndEvent",H.Js="CwsCustomEvent",H.Xs="CwsSeekEvent",H.Qs="CwsDataSamplesEvent",H.Zs="ok",H.zs="err",H.$s="clid",H.no="cfg",H.io="evs",H.eo="maxhbinfos",H.so="slg",H.oo="hbi",H.ro="gw",H.uo="fp",H.ho="csi_en",H.ao="CwsSessionHb",H.fo="t",H.co="st",H.lo="sst",H.vo="lv",H.do="seq",H.Eo="cid",H.po="clid",H.Ro="clv",H.wo="pver",H.To="iid",H.So="sid",H.go="vid",H.No="an",H.Oo="pn",H._o="tags",H.Ao="sf",H.Co="evs",H.Io="lg",H.yo="hbinfos",H.mo="sdk",H.Do="pj",H.Po="ps",H.bo="br",H.Mo="cl",H.Lo="efps",H.Uo="afps",H.Vo="rfpstot",H.ko="rfpscnt",H.Fo="rs",H.Ho="pht",H.Bo="bl",H.Go="url",H.jo="caps",H.Ko="pm",H.Wo="w",H.xo="h",H.qo="ct",H.Yo="le",H.Jo="dftot",H.Xo="dfcnt",H.Qo="ss",H.Zo="csi_n",H.zo="csi_t",H.$o="csi_l",H.tr="csi_v",H.nr="csi_c",H.ir="sch",H.er="br",H.sr="brv",H.or="dvb",H.rr="dvma",H.ur="dvm",H.hr="dvt",H.ar="dvv",H.fr="sw",H.cr="sh",H.lr="scf",H.vr="fw",H.dr="fwv",H.Er="cc",H.pr="mn",H.Rr="mv",H.wr="os",H.Tr="osv",H.Sr="cat",H.gr="caps",H.Nr="t",H.Or="seq",H._r="st",H.Ar="act",H.Cr="skto",H.Ir="err",H.yr="ft",H.mr="new",H.Dr="old",H.Pr="name",H.br="attr",H.Mr="seq",H.Lr="err",H.Ur="rtt",H.Vr="ad",H.kr="csi",H.Fr=function(t){switch(t){case u.PlayerState.STOPPED:return H.Hr;case u.PlayerState.PLAYING:return H.Br;case u.PlayerState.BUFFERING:return H.Gr;case u.PlayerState.PAUSED:return H.jr;case u.PlayerState.NOT_MONITORED:return H.Kr;default:return H.Wr}},H.Hr=1,H.Br=3,H.Gr=6,H.jr=12,H.Kr=98,H.Wr=100,H.xr={qr:0,lt:1,Yr:2,Jr:4},H.Xr={Qr:0};var B=ut.LibJSONInterface=function(){this.Zr=function(t){var n=null;try{n=V.stringify(t)}catch(t){return n}return n},this.zr=function(t){var n=null;try{n=ut.JsonParse(t)}catch(t){return n}return Q.$r(n)||(n=null),n}},G=ut.CwsHeartbeat=function(){this.tu={},function(){}.apply(this,arguments),this.get=function(){return this.tu},this.nu=function(t,n){this.tu[t]=n},this.iu=function(t,n,i){this.tu[t]||(this.tu[t]={}),this.tu[t][n]=i},this.eu=function(t){this.nu(H.fo,t)},this.su=function(t){this.nu(H.co,t)},this.ou=function(t){this.nu(H.lo,t)},this.ru=function(t){this.nu(H.vo,t)},this.uu=function(t){this.nu(H.do,t)},this.hu=function(t){this.nu(H.Eo,t)},this.au=function(t){this.nu(H.po,t)},this.fu=function(t){this.nu(H.Ro,t)},this.cu=function(t){this.nu(H.wo,t)},this.lu=function(t){this.nu(H.gr,t)},this.vu=function(t){this.nu(H.So,t)},this.du=function(t){this.nu(H.To,t)},this.Eu=function(t){this.nu(H.go,t)},this.pu=function(t){this.nu(H.No,t)},this.Ru=function(t){this.nu(H.Oo,t)},this.wu=function(t){this.nu(H._o,t)},this.Tu=function(t){this.nu(H.Ao,t)},this.Su=function(t){this.nu(H.jo,t)},this.gu=function(t){this.nu(H.Co,t)},this.Nu=function(t){this.nu(H.mo,t)},this.Ou=function(t){this.nu(H.Io,t)},this._u=function(t){this.nu(H.yo,t)},this.Se=function(t){this.nu(H.Po,t)},this.Au=function(t){this.nu(H.Do,t)},this.Cu=function(t){this.nu(H.Mo,t)},this.Iu=function(t){this.nu(H.bo,t)},this.yu=function(t){this.nu(H.Fo,t)},this.mu=function(t){this.nu(H.Lo,t)},this.Du=function(t){this.nu(H.Uo,t)},this.Pu=function(t){this.nu(H.ko,t)},this.bu=function(t){this.nu(H.Vo,t)},this.Mu=function(t){this.iu(H.Ko,H.ir,t)},this.Lu=function(t){this.iu(H.Ko,H.er,t)},this.Uu=function(t){this.iu(H.Ko,H.sr,t)},this.Vu=function(t){this.iu(H.Ko,H.or,t)},this.ku=function(t){this.iu(H.Ko,H.rr,t)},this.Fu=function(t){this.iu(H.Ko,H.ur,t)},this.Hu=function(t){this.iu(H.Ko,H.hr,t)},this.Bu=function(t){this.iu(H.Ko,H.ar,t)},this.Gu=function(t){this.iu(H.Ko,H.vr,t),this.nu(H.vr,t)},this.ju=function(t){this.iu(H.Ko,H.dr,t),this.nu(H.dr,t)},this.Ku=function(t){this.iu(H.Ko,H.wr,t.toUpperCase())},this.Wu=function(t){this.iu(H.Ko,H.Tr,t)},this.xu=function(t){this.iu(H.Ko,H.Sr,t)},this.qu=function(t){this.iu(H.Ko,H.fr,t)},this.Yu=function(t){this.iu(H.Ko,H.cr,t)},this.Ju=function(t){this.iu(H.Ko,H.lr,t)},this.Xu=function(t){this.nu(H.Jo,t)},this.ts=function(t){this.nu(H.Xo,t)},this.Qu=function(t){this.nu(H.Ho,t)},this.Zu=function(t){this.nu(H.Bo,t)},this.zu=function(t){this.nu(H.Go,t)},this.$u=function(t){this.nu(H.Wo,t)},this.th=function(t){this.nu(H.xo,t)},this.nh=function(t){this.nu(H.qo,t)},this.ih=function(t){this.nu(H.Yo,t)},this.eh=function(){this.nu(H.Vr,!0)},this.sh=function(t){this.nu(H.Qo,t)},this.setModuleName=function(t){this.iu(H.Er,H.pr,t)},this.oh=function(t){this.iu(H.Er,H.Rr,t)},this.rh=function(t){this.nu(H.kr,t)},this.uh=function(t){t&&this.nu(H.Zo,t)},this.hh=function(t){t&&this.nu(H.zo,t)},this.ah=function(t){t&&this.nu(H.$o,t)},this.fh=function(t){t&&this.nu(H.tr,t)},this.ch=function(t){t&&this.nu(H.nr,t)}},j=ut.CwsSession=function(){var p=this;p.lh=null,p.Rt=null,p.vh=0,p.dh=0,p.Eh=H.xr.qr,p.ph=H.Xr.Qr,p.Rh=[],p.wh=-1,p.dn=-2,p.Zn=-1,p.Th=-1,p.Sh=null,p.En=u.PlayerState.UNKNOWN,p.ln=-1,p.gh=-1,p.hn=null,p.Nn=-1,p.On=-1,p.ue=null,p.en=null,p.rn=null,p.Nh=null,p.Oh=null,p._h={},p.Ah=null,p.Ch=null,p.Ih=null,p.yh=null,p.mh=null,p.Dh=null,p.Ph=null,p.bh=null,p.Mh=null,p.Lh=null,p.Uh=null,p.Vh=null,p.kh=null,p.Fh=null,p.Hh=null,p.Sn=null,p.gn=null,p.C=null,p.I=null,p.ke=null,p.Bh=null,p.Gh=!1,p.jh=!1,p.Kh=!1,p.Wh=!1,p.xh=null,p.qh=1e3,p.Yh=0,p.Jh=0,p.Xh={},p.O={},p.Qh=!1,p.Zh=null,p.zh=null,p.$h=null,p.ta=null,p.na=null,p.ia=null,p.ea=12e4,p.sa=H.Bs,p.oa=!1,p.ra=null,p.fi=null,function(t,n,i,e,s,o,r,u,h,a,f,c,l){this.ua=t,this.Gi=n,this.ai=i,this.l=e,this.l.setModuleName("CwsSession"),this.T=s,this.ji=o,this.ha=r,this.aa=u,this.fa=h,this.ci=a,this.ca=f,this.Rt=c,this.Rt&&(p.ln=this.Rt.encodedFrameRate,p.hn=this.Rt.streamUrl,p.gh=this.Rt.duration),this.ca&&(p.ra=p.ca.get(q.P)),p.fi=l}.apply(this,arguments),this.ft=function(){this.ca=null,this.ci=null,this.w=null,this.fa=null,this.aa=null,this.ha=null,this.ji=null,this.T=null,this.l=null,this.ai=null,this.Gi=null,this.ua.la(),this.ua=null,this.Bh=null,this.Kh=!0},this.va=function(t){this.da=t,this.Ea=this.da.Ea,this.l.vu(this.da.g),this.vh=this.fa.current(),this.pa()||this.Ra()?(this.Eh+=j.wa,p.l.info("start(): assetName="+p.Rt.assetName)):p.l.info("start()"+p.Ta())},this.Sa=function(){this.Wh=!0},this.ga=function(){this.l.debug("initialize()"),(this.pa()||this.Ra()||this.Na())&&(p.Oa(),p._a(),p.Aa(),(this.pa()||this.Ra())&&p.Ca())},this.Ia=function(){this.l.debug("end(): schedule the last hb before session cleanup"+p.Ta()),this.ya(),this.ma(),this.Da(),this.Pa()},this.ba=function(){this.Wh||(this.Pa(),this.Ma())},this.Lu=function(t){var n=p.Ah;n!==t&&t&&(p.l.debug("Change browserName from "+n+" to "+t),p.Ah=t)},this.Uu=function(t){var n=p.Ch;n!==t&&t&&(p.l.debug("Change browserVersion from "+n+" to "+t),p.Ch=t)},this.Vu=function(t){var n=p.Ih;n!==t&&t&&(p.l.debug("Change deviceBrand from "+n+" to "+t),p.Ih=t)},this.ku=function(t){var n=p.yh;n!==t&&t&&(p.l.debug("Change deviceManufacturer from "+n+" to "+t),p.yh=t)},this.Fu=function(t){var n=p.mh;n!==t&&t&&(p.l.debug("Change deviceModel from "+n+" to "+t),p.mh=t)},this.Hu=function(t){var n=p.Dh;n!==t&&t&&(p.l.debug("Change deviceType from "+n+" to "+t),p.Dh=t)},this.Bu=function(t){var n=p.Ph;n!==t&&t&&(p.l.debug("Change deviceVersion from "+n+" to "+t),p.Ph=t)},this.Ku=function(t){var n=p.Lh;n!==t&&t&&(p.l.debug("Change operatingSystemName from "+n+" to "+t),p.Lh=t)},this.Wu=function(t){var n=p.Uh;n!==t&&t&&(p.l.debug("Change operatingSystemVersion from "+n+" to "+t),p.Uh=t)},this.xu=function(t){var n=p.Vh;n!==t&&t&&(p.l.debug("Change deviceCategory from "+n+" to "+t),p.Vh=t)},this.qu=function(t){var n=p.kh;n!==t&&t&&(p.l.debug("Change screenWidth from "+n+" to "+t),p.kh=t)},this.Yu=function(t){var n=p.Fh;n!==t&&t&&(p.l.debug("Change screenHeight from "+n+" to "+t),p.Fh=t)},this.Ju=function(t){var n=p.Vh;n!==t&&t&&(p.l.debug("Change scaleFactor from "+n+" to "+t),p.Hh=t)},this.La=function(){return p.bh},this.Gu=function(t){var n=p.bh;n!==t&&t&&(p.l.debug("Change frameworkName from "+n+" to "+t),p.bh=t)},this.Ua=function(){return p.Mh},this.ju=function(t){var n=p.Mh;n!==t&&t&&(p.l.debug("Change frameworkVersion from "+n+" to "+t),p.Mh=t)},this.zu=function(t){var n;p.Rt.streamUrl||(n=p.hn)!==t&&t&&(p.l.debug("Change stream url from "+n+" to "+t),p.hn=t)},this.Va=function(){p.ma(),p.oa||(p.ka(),p.ia=p.ji.create(p.ka,p.ea,"CwsSession.startCdnTimer"),p.l.debug("fetching cdn ip timer started"))},this.ma=function(){p.ia&&(p.ia(),p.Fa(null,null,null,null,null),p.ia=null)},this.ka=function(){p.l.debug("detectCDNServerIp(): For "+p.hn),p.sa?p.Ha():p.ma()},this.Ha=function(){try{var t;"function"===typeof XMLHttpRequest||"object"===typeof XMLHttpRequest?((t=new XMLHttpRequest).open("HEAD",p.hn,!0),t.setRequestHeader("Pragma","akamai-x-cache-on"),t.onreadystatechange=function(){4===this.readyState&&(200===this.status&&(this.getAllResponseHeaders().indexOf("x-cache")>=0||this.getAllResponseHeaders().indexOf("X-Cache")>=0)?p.Fa("Akamai","header","X-Cache",""+this.getResponseHeader("X-Cache"),""+this.status):p.Fa("null","header","null","null",""+this.status))},t.send()):p.l.info("xmlhttpreq is not available here to fetch CDN Server Ip")}catch(t){p.l.info("Exception caught in makeAkamaiHeadRequest")}},this.Fa=function(t,n,i,e,s){var o={},r={};p.Zh!==t&&(null!==p.Zh&&(r[H.Zo]=p.Zh),p.Zh=t,null===p.Zh?o[H.Zo]="null":o[H.Zo]=p.Zh),p.zh!==n&&(null!==p.zh&&(r[H.zo]=p.zh),p.zh=n,null===p.zh?o[H.zo]="null":o[H.zo]=p.zh),p.$h!==i&&(null!==p.$h&&(r[H.$o]=p.$h),p.$h=i,null===p.$h?o[H.$o]="null":o[H.$o]=p.$h),p.ta!==e&&(null!==p.ta&&(r[H.tr]=p.ta),p.ta=e,null===p.ta?o[H.tr]="null":o[H.tr]=p.ta),p.na!==s&&(null!==p.na&&(r[H.nr]=p.na),p.na=s,null===p.na?o[H.nr]="null":o[H.nr]=p.na),"{}"!==JSON.stringify(o)&&p.Ba(o,r)},this.Ga=function(t){var n=p.dn;n!==t&&t>0&&(p.l.info("Change bitrate from "+n+" to "+t),p.ja(n,t),p.dn=t)},this.Xu=function(t){var n=p.Zn;n!==t&&t>=0&&(p.l.info("Change dropped frames total from "+n+" to "+t),p.Ka(n,t),p.Zn=t)},this.ts=function(t){var n=p.Th,i=t+(-1===p.Th?0:p.Th);n!==t&&i>=0&&(p.l.info("Change dropped frames count from "+n+" to "+i),p.Wa(n,i),p.Th=i)},this.yu=function(t){var n=p.Sh;n!==t&&t&&(p.l.info("Change resource from "+n+" to "+t),p.Sh=t)},this.pu=function(t){p.en!==t&&t&&(p.l.info("Change assetName from "+p.en+" to "+t),p.en=t)},this.ru=function(t){var n=p.Oh;n!==t&&Q.mi(t)&&(p.l.info("Change isLive from "+n+" to "+t),p.Oh=t)},this.Eu=function(t){var n=p.rn;n!==t&&t&&(p.l.info("Change viewerId from "+n+" to "+t),p.rn=t)},this.Ru=function(t){var n=p.Nh;n!==t&&t&&(p.l.info("Change playerName from "+n+" to "+t),p.Nh=t)},this.wu=function(t){var n=p._h;!Q.xa(n,t)&&t&&(p.l.info("Change tags from "+Q.qa(n)+" to "+Q.qa(t)),p._h=t)},this.mu=function(t){p.Rt.encodedFrameRate>0||(p.l.debug("setEncodedFrameRate(): "+t),p.ln=t)},this.Cu=function(t){p.Rt.duration>0||(p.l.debug("setContentLength(): "+t),p.gh=t)},this.Se=function(t){var n;p.jh||t!==u.PlayerState.PLAYING||(p.jh=!0,Q.St(p.Rt.viewerId)||p.l.error("Missing viewerId. viewerId should be updated before first frame is rendered."),Q.St(p.Rt.streamType)&&c.StreamType.UNKNOWN!==p.Rt.streamType||p.l.error("Missing streamType - Live or VOD. streamType should be updated before first frame is rendered."),Q.St(p.Rt.applicationName)||p.l.error("Missing applicationName. applicationName should be updated before first frame is rendered.")),p.En!==t&&(n=p.En,p.l.info("setPlayerState(): changing player state from "+n+" to "+t),p.Ya(n,t),p.En=t)},this.Ja=function(t){var n=p.Nn;n!==t&&t>0&&(p.l.debug("Change stream resolution width from "+n+" to "+t),p.Xa(n,t),p.Nn=t)},this.Qa=function(t){var n=p.On;n!==t&&t>0&&(p.l.debug("Change stream resolution height from "+n+" to "+t),p.Za(n,t),p.On=t)},this.nh=function(t){var n=p.C;n!==t&&t&&(p.l.debug("Change network connection type from "+n+" to "+t),p.za(n,t),p.C=t)},this.ih=function(t){var n=p.I;n!==t&&t&&(p.l.debug("Change network link encryption from "+n+" to "+t),p.$a(n,t),p.I=t)},this.rh=function(t){p.oa=!0,p.ma();var n=p.ke;n!==t&&Q.St(t)&&(p.l.debug("Change CDN Server IP from "+n+" to "+t),p.tf(n,t),p.ke=t)},this.nf=function(t){var n;p.l.debug("togglePauseJoin()"),p.Gh!==t?(n=p.Gh,t=!p.Gh,p.if(n,t),p.Gh=!p.Gh):p.l.debug("togglePauseJoin(): same value, ignoring")},this.ef=function(t,n){p.sf(t,n)},this.rf=function(t,n){var i;n[H.Nr]=t,n[H._r]=this.uf(),n[H.Or]=this.ua.hf(),this.ue&&(i=tt.af(this.ue.getPHT(),0,null,-1),t=tt.af(this.ue.getBufferLength(),0,null,-1),i>=0&&(n[H.Ho]=i),t>0&&(n[H.Bo]=t)),this.ua.ff(n)},this.cf=function(t){p.ue=t,p.ue?p.lf():p.vf()},this.ya=function(){var t=this.aa.Vs(this.df(),this.uf());this.ua.ff(t)},this.sf=function(t,n){var i={};i[H.Ir]=t,i[H.yr]=n,this.rf(H.Ys,i)},this.ja=function(t,n){var i={},e={};t>0&&(e[H.bo]=t),i[H.bo]=n,this.Ba(i,e)},this.Ef=function(t,n){var i={};i[H.Ar]=t,n>=0&&(i[H.Cr]=n),this.rf(H.Xs,i)},this.Xa=function(t,n){var i={},e={};-1!==t&&(e[H.Wo]=t),i[H.Wo]=n,this.Ba(i,e)},this.Za=function(t,n){var i={},e={};-1!==t&&(e[H.xo]=t),i[H.xo]=n,this.Ba(i,e)},this.za=function(t,n){var i={},e={};null!==t&&(e[H.qo]=t),i[H.qo]=n,this.Ba(i,e)},this.$a=function(t,n){var i={},e={};null!==t&&(e[H.Yo]=t),i[H.Yo]=n,this.Ba(i,e)},this.tf=function(t,n){var i={},e={};Q.St(t)&&(e[H.kr]=t),i[H.kr]=n,this.Ba(i,e)},this.Ka=function(t,n){var i={},e={};t>=0&&(e[H.Jo]=t),i[H.Jo]=n,this.Ba(i,e)},this.Wa=function(t,n){var i={},e={};t>=0&&(e[H.Xo]=t),i[H.Xo]=n,this.Ba(i,e)},this.if=function(t,n){var i={},e={};e[H.Do]=t,i[H.Do]=n,this.Ba(i,e)},this.Ya=function(t,n){var i={},e={};i[H.Po]=H.Fr(n),e[H.Po]=H.Fr(t),this.Ba(i,e)},this.Ba=function(t,n){var i={};i[H.mr]=t,n&&Q.mt(n)>0&&(i[H.Dr]=n),this.rf(H.qs,i)},this.pf=function(t,n){var i={};i[H.Pr]=t,Q.mt(n)>0&&(i[H.br]=n),this.rf(H.Js,i)},this.Da=function(){p.lh&&(p.lh(),p.lh=null)},this.Ma=function(){p.Da();var t=1e3*p.ai.heartbeatInterval;p.lh=p.ji.create(p.Pa,t,"Session.sendHeartbeat:"+this.Ea)},this.vf=function(){p.xh&&(p.xh(),p.xh=null)},this.lf=function(){p.vf(),p.xh=p.ji.create(p.Rf,p.qh,"Session.startRfpsTimer")},this.wf=function(){var t={err:"pending"};t.seq=p.dh-1,t.sentAt=p.uf(),t.rtt=-1,p.Rh.push(t);for(var n=0;n<p.Rh.length;n++)"ok"===(t=p.Rh[n]).err&&(p.Rh.splice(n,1),n--)},this.Tf=function(t,n){for(var i=0;i<p.Rh.length;i++){var e=p.Rh[i];e.seq===t&&(e.rtt=p.uf()-e.sentAt,e.err=n)}},this.Sf=function(t){for(var n=0;n<p.Rh.length;n++){var i=p.Rh[n];i.seq===t&&(i.rtt=p.uf()-i.sentAt,i.err="ok")}},this.gf=function(){for(var t,n,i=p.ca.get(q.Nf),e=[],s=-1,o=0;o<p.Rh.length;o++)if("ok"===(n=p.Rh[o]).err){s=n.seq;break}for(var r=0;r<p.Rh.length;r++)((t=(n=p.Rh[r]).seq)<p.dh-i||t<s)&&e.push(r);for(var u=[],h=0;h<p.Rh.length;h++)t=(n=p.Rh[h]).seq,e.indexOf(h)<0&&u.push(p.Rh[h]);p.Rh=u},this.Of=function(){p.gf();for(var t=[],n=0;n<p.Rh.length;n++){var i=p.Rh[n],e={};e[H.Mr]=i.seq,e[H.Ur]=i.rtt,e[H.Lr]=i.err,t.push(e)}return t},this._f=function(){var t,n=-1,i=-1,e=p.ua.la();if(p.Na()&&0===e.length)return null;var s=new G;s.eu(H.ao),s.hu(p.ai.customerKey),s.au(p.ca.get(q.P)),s.vu(p.da.g),s.uu(p.dh),s.cu(H.version);var o=T.version;if(p.fi&&(o=p.fi),s.fu(o),s.du(p.Gi.g),s.lu(0),p.Gi.C?s.nh(p.Gi.C):p.C&&s.nh(p.C),p.Gi.I?s.ih(p.Gi.I):p.I&&s.ih(p.I),Q.St(p.ke)&&s.rh(p.ke),s.Mu(H.xs),p.Ah&&s.Lu(p.Ah),p.Ch&&s.Uu(p.Ch),p.Ih&&s.Vu(p.Ih),p.yh&&s.ku(p.yh),p.mh&&s.Fu(p.mh),p.Dh&&s.Hu(p.Dh),p.Ph&&s.Bu(p.Ph),p.Lh&&s.Ku(p.Lh),p.Uh&&s.Wu(p.Uh),p.Vh&&s.xu(p.Vh),p.bh&&s.Gu(p.bh),p.Mh&&s.ju(p.Mh),p.kh&&!isNaN(p.kh)&&s.qu(parseInt(p.kh,10)),p.Fh&&!isNaN(p.Fh)&&s.Yu(parseInt(p.Fh,10)),p.Hh&&!isNaN(p.Hh)?s.Ju(parseFloat(p.Hh)):(p.kh&&!isNaN(p.kh)||p.Fh&&!isNaN(p.Fh))&&s.Ju(1),p.ue&&(p.Sn=p.ue.Mn(),p.Sn&&s.setModuleName(p.Sn),p.gn=p.ue.Ln(),p.gn&&s.oh(p.gn),p.ue.Un()&&(p.bh=p.ue.Un(),s.Gu(p.bh)),p.ue.kn()&&(p.Mh=p.ue.kn(),s.ju(p.Mh))),p.rn&&s.Eu(p.rn),Q.mt(p._h)>0&&s.wu(p._h),p.pa()||p.Ra()){p.Ra()&&s.eh(),p.en&&s.pu(p.en),s.Tu(p.Eh);o=H.Fr(p.En);s.Se(o),s.Au(p.Gh),p.Nh&&s.Ru(p.Nh),Q.mi(p.Oh)&&s.ru(p.Oh),p.gh>0&&s.Cu(p.gh),p.dn>0&&s.Iu(p.dn),null!==p.Sh&&s.yu(p.Sh),p.ln>0&&s.mu(p.ln),p.ue&&(n=tt.af(p.ue.getPHT(),0,null,-1),i=tt.af(p.ue.getBufferLength(),0,null,-1)),Q.dt(p.Gi.y)?t=p.Gi.y:p.ue&&(t=p.ue.getSignalStrength()),n>=0&&s.Qu(n),i>0&&s.Zu(i);i=p.Af();if(i>0&&s.Du(i),p.Jh>0&&s.bu(tt.af(p.Jh,0,null,-1)),p.Yh>0&&s.Pu(tt.af(p.Yh,0,null,-1)),t!==u.DEFAULT_SIGNAL_STRENGTH&&s.sh(t),p.hn&&s.zu(p.hn),p.Nn>0&&s.$u(p.Nn),p.On>0&&s.th(p.On),p.Zn>-1&&s.Xu(p.Zn),p.Th>-1&&(s.ts(p.Th),p.Th>0&&(p.Wa(p.Th,0),p.Th=0)),"undefined"!==typeof p.Bh)for(var r in p.Bh)s.nu(r,p.Bh[r])}else s.Tu(H.xr.qr);return e.length>0&&s.gu(e),s.Su(p.ph),s.Nu(!0),p.ca.get(q.Cf)&&s.Ou(p.ci.la()),p.ca.get(q.Nf)>0&&((e=p.Of()).length>0&&s._u(e)),0===p.dh&&(s=p.If(s)),0!==p.dh&&(s=p.yf(s)),s.ou(p.vh),s.su(p.uf()),p.sa&&(s.uh(p.Zh),s.hh(p.zh),s.ah(p.$h),s.fh(p.ta),s.ch(p.na)),p.dh++,s.get()},this.yf=function(t){var n,i=p.O,e={};for(n in t.tu.tags)Object.prototype.hasOwnProperty.call(i,n)||(e[n]=t.tu.tags[n]);t.tu.tags=e,p.O={};for(var s=0;s<p.Xh.length;s++)Object.prototype.hasOwnProperty.call(p.Gi.O,p.Xh[s])?Object.prototype.hasOwnProperty.call(p.Gi.A,p.Xh[s])?p.Gi.A[p.Xh[s]]===q.jt.Kt?(p.O[q.mf+""+p.Xh[s]]=q.jt.Kt,p.Gi._("End-user chose to opt-out of personal data collection")):p.Gi.A[p.Xh[s]]===q.jt.xt?(p.O[q.mf+""+p.Xh[s]]=q.jt.xt,p.Gi._("End-user chose to opt-out of personal data collection")):p.Gi.A[p.Xh[s]]===q.jt.Gt?(p.O[q.mf+""+p.Xh[s]]=q.jt.Gt,p.Gi._("End-user used privacy settings and chose to opt-out of personal data collection")):(p.O[q.mf+""+p.Xh[s]]=p.Gi.O[p.Xh[s]],p.Gi._("Data collection successful")):(p.O[q.mf+""+p.Xh[s]]=p.Gi.O[p.Xh[s]],p.Gi._("Data collection successful")):p.O[q.mf+""+p.Xh[s]]=q.jt.Df;var o,r={};for(o in i){var u=o.split(".");"{}"!==JSON.stringify(p.Xh)&&-1!==p.Xh.indexOf(""+u[2])||i[q.mf+""+u[2]]===q.jt.Pf||(p.Gi._("Data collection restricted from Conviva back-end"),p.O[q.mf+""+u[2]]=q.jt.Pf,r[q.mf+""+u[2]]=q.jt.Pf)}if("{}"!==JSON.stringify(p.O)){var h,a=Q.bf(p.O);for(h in t.tu.tags)a[h]=t.tu.tags[h];if(t.tu.tags=a,!Q.xa(i,p.O)){var f={};if("{}"!==JSON.stringify(r)&&(f[H._o]=r),"{}"!==JSON.stringify(i)){for(var c in i)p.O[c]&&i[c]!==p.O[c]&&(f[H._o]||(f[H._o]={}),f[H._o][c]=p.O[c]);for(var l in p.O)Object.prototype.hasOwnProperty.call(i,l)&&i[l]===p.O[l]||(f[H._o]||(f[H._o]={}),f[H._o][l]=p.O[l])}"{}"===JSON.stringify(i)&&(f[H._o]=p.O);var v,d,E={};E[H.mr]=f,E[H.Nr]=H.qs,E[H._r]=p.uf(),E[H.Or]=p.ua.hf(),p.ue&&(v=tt.af(p.ue.getPHT(),0,null,-1),d=tt.af(p.ue.getBufferLength(),0,null,-1),v>=0&&(E[H.Ho]=v),d>0&&(E[H.Bo]=d)),t.tu.evs||(t.tu.evs=[]),t.tu.evs.push(E)}}return t},this.If=function(t){var n=p.Mf();if("{}"===JSON.stringify(n))return t;var i,e=Q.bf(n);for(i in t.tu.tags)e[i]=t.tu.tags[i];t.tu.tags=e;var s={};s[H._o]=n;var o={};return o[H.mr]=s,o[H.Nr]=H.qs,o[H._r]=p.uf(),o[H.Or]=p.ua.hf(),p.ue&&(n=tt.af(p.ue.getPHT(),0,null,-1),s=tt.af(p.ue.getBufferLength(),0,null,-1),n>=0&&(o[H.Ho]=n),s>0&&(o[H.Bo]=s)),t.tu.evs||(t.tu.evs=[]),t.tu.evs.push(o),t},this.Mf=function(){var t={};if("undefined"!==typeof navigator&&navigator){if(t["c3.fp.cookie"]="undefined"!==typeof navigator.cookieEnabled&&navigator.cookieEnabled?""+navigator.cookieEnabled:"",t["c3.fp.memory"]="undefined"!==typeof navigator.deviceMemory&&navigator.deviceMemory?""+navigator.deviceMemory:"",t["c3.fp.hwConc"]="undefined"!==typeof navigator.hardwareConcurrency&&navigator.hardwareConcurrency?""+navigator.hardwareConcurrency:"",t["c3.fp.java"]=""+("function"!==typeof navigator.javaEnabled)?"false":navigator.javaEnabled(),t["c3.fp.lang"]="undefined"!==typeof navigator.language&&navigator.language?""+navigator.language:"",t["c3.fp.langs"]="undefined"!==typeof navigator.languages&&navigator.languages&&navigator.languages.length>0?""+navigator.languages.toString():"",t["c3.fp.maxTp"]="undefined"!==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints?""+navigator.maxTouchPoints:"",t["c3.fp.plugins"]="","undefined"!==typeof navigator.plugins&&navigator.plugins&&navigator.plugins.length>0)for(var n=0;n<navigator.plugins.length;n++)t["c3.fp.plugins"]+=navigator.plugins[n].name+",";if(t["c3.fp.mime"]="","undefined"!==typeof navigator.mimeTypes&&navigator.mimeTypes&&navigator.mimeTypes.length>0)for(var i=0;i<navigator.mimeTypes.length;i++)t["c3.fp.mime"]+=navigator.mimeTypes[i].type+",";t["c3.fp.sysLang"]="undefined"!==typeof navigator.systemLanguage&&navigator.systemLanguage?""+navigator.systemLanguage:"",t["c3.fp.platform"]="undefined"!==typeof navigator.platform&&navigator.platform?""+navigator.platform:"",t["c3.fp.product"]="undefined"!==typeof navigator.product&&navigator.product?""+navigator.product:"",t["c3.fp.productSub"]="undefined"!==typeof navigator.productSub&&navigator.productSub?""+navigator.productSub:"",t["c3.fp.vendor"]="undefined"!==typeof navigator.vendor&&navigator.vendor?""+navigator.vendor:"",t["c3.fp.vendorSub"]="undefined"!==typeof navigator.vendorSub&&navigator.vendorSub?""+navigator.vendorSub:"";var e=p.Lf();""!==e&&(t["c3.fp.canvFp"]=e)}return"undefined"!==typeof window&&window&&("undefined"!==typeof window.screen&&window.screen&&(t["c3.fp.availHeight"]="undefined"!==typeof window.screen.availHeight&&window.screen.availHeight?""+window.screen.availHeight:"",t["c3.fp.availWidth"]="undefined"!==typeof window.screen.availWidth&&window.screen.availWidth?""+window.screen.availWidth:"",t["c3.fp.height"]="undefined"!==typeof window.screen.height&&window.screen.height?""+window.screen.height:"",t["c3.fp.width"]="undefined"!==typeof window.screen.width&&window.screen.width?""+window.screen.width:"",t["c3.fp.colorDepth"]="undefined"!==typeof window.screen.colorDepth&&window.screen.colorDepth?""+window.screen.colorDepth:"",t["c3.fp.deviceXDPI"]="undefined"!==typeof window.screen.deviceXDPI&&window.screen.deviceXDPI?""+window.screen.deviceXDPI:"",t["c3.fp.deviceYDPI"]="undefined"!==typeof window.screen.deviceYDPI&&window.screen.deviceYDPI?""+window.screen.deviceYDPI:""),t["c3.fp.dpi"]="undefined"!==typeof window.devicePixelRatio&&window.devicePixelRatio?""+window.devicePixelRatio:"",t["c3.fp.secure"]="boolean"===typeof window.isSecureContext?""+window.isSecureContext:""),t},this.Lf=function(){try{if("undefined"!==typeof document&&document){var t=document.createElement("CANVAS");if("undefined"!==typeof t&&t&&"function"===typeof t.getContext){var n=t.getContext("2d"),i="conviva";return n.textBaseline="top",n.font="14px Arial",n.textBaseline="alphabetic",n.fillStyle="#f40",n.fillRect("undefined"!==typeof navigator.plugins&&navigator.plugins?navigator.plugins.length:0,"undefined"!==typeof navigator.mimeTypes&&navigator.mimeTypes?navigator.mimeTypes.length:0,"undefined"!==typeof navigator.product&&navigator.product?navigator.product.length:0,"undefined"!==typeof navigator.vendor&&navigator.vendor?navigator.vendor.length:0),n.fillStyle="#069",n.fillText(i,"undefined"!==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>=0?navigator.maxTouchPoints:0,"undefined"!==typeof navigator.product&&navigator.product?navigator.product.length:0),n.fillStyle="rgba(102, 204, 0, 0.7)",n.fillText(i,"undefined"!==typeof navigator.deviceMemory&&navigator.deviceMemory?navigator.deviceMemory:0,"undefined"!==typeof navigator.hardwareConcurrency&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:0),Q.Uf(t.toDataURL())}}return""}catch(t){return""}},this.Pa=function(){var t;p.Kh||(t=p._f())&&p.Vf(t)},this.Rf=function(){var t;p.En!==u.PlayerState.PLAYING||!p.ue||(t=p.ue.getRenderedFrameRate())>0&&(p.Jh+=t,p.Yh++)},this.Af=function(){return p.Jh>0&&p.Yh>0?Q.kf.Cast(+p.Jh/p.Yh):(this.Rf(),p.Jh>0&&p.Yh>0?Q.kf.Cast(+p.Jh/p.Yh):u.DEFAULT_RENDERED_FRAME_RATE)},this.Vf=function(t){p.wf();var i=p.dh-1;p.l.info("postHeartbeat(): Send HB["+i+"]"+p.Ta());p.ha.Ff(t,function(t,n){p.Hf(t,n,i)})},this.Hf=function(e,s,o){p.Kh||p.T.D("onHeartbeatResponse",function(){var t,n,i;e?s?(p.l.debug("onHeartbeatResponse(): received valid response for HB["+o+"]"),p.Sf(o),!(i=s[H.$s])||i!==(t=p.ca.get(q.P))&&(p.l.debug("onHeartbeatResponse(): setting the client id to "+i+" (from gateway)"),p.ca.set(q.P,i),p.ca.Bf(),t===H.M&&i!==H.M&&p.Gi.m()),(t=s[H.zs])&&t!==H.Zs&&p.l.error("onHeartbeatResponse(): error from gateway: "+t),"object"===typeof(i=s[H.no])&&((t=i[H.eo])>=0&&p.ca.get(q.Nf)!==t&&(p.l.debug("onHeartbeatResponse(): setting Maximum Heartbeat Infos to "+t+" (from gateway)"),p.ca.set(q.Nf,t)),t=i[H.so],(t=!!Q.mi(t)&&t)!==p.ca.get(q.Cf)&&(p.l.debug("onHeartbeatResponse(): turning "+(t?"on":"off")+" sending of logs"),p.ca.set(q.Cf,t)),t=i[H.oo],!Q.dt(t)||(n=Q.kf.Cast(t))!==p.ai.heartbeatInterval&&(p.l.debug("onHeartbeatResponse(): received hbIntervalMs from gateway: "+n),p.ai.heartbeatInterval=n,p.lh&&p.Ma()),(n=i[H.ro])&&n!==p.ai.gatewayUrl&&(p.l.debug("onHeartbeatResponse(): received gatewayUrl from gateway: "+n),p.ai.gatewayUrl=n),p.Gf()||(p.Xh={},(n=i[H.uo])&&(p.Qh||(p.Qh=!0),p.l.debug("onHeartbeatResponse(): received fp from gateway: "+n),p.Xh=n.split(",")),p.sa=i[H.ho],Q.mi(p.sa)&&(p.sa?(p.l.debug("onHeartbeatResponse(): enabling the CDN Server IP collection"),p.ia||p.Va()):p.ma())))):p.l.warning("onHeartbeatResponse(): decoded heartbeat response is null."):(i=s,Q.St(i)?Q.jf(i,"HTTP timeout")?p.l.warning("onHeartbeatResponse(): "+i):p.l.error("onHeartbeatResponse(): failed to send heartbeat: "+i):(i=K.Kf,p.l.error("onHeartbeatResponse(): "+i)),p.Tf(o,i))})},this.uf=function(){return Q.kf.Cast(p.fa.current()-p.vh)},this.df=function(){return this.ua.hf()},this.Ta=function(){return this.Na()?" (global session)":""},this.Na=function(){return this.Ea===j.vt.qr},this.Gf=function(){return this.Ea===j.vt.qr&&"T"===this._h["c3.IPV4IPV6GlobalSession"]},this.pa=function(){return this.Ea===j.vt.lt},this.Ra=function(){return this.Ea===j.vt.Tt},this.Nt=function(t){p.Wf(t),p.Oa()},this.Wf=function(t){var n={},i={};if(Q.St(t.assetName)&&(p.Rt.assetName!==t.assetName?(p.Rt.assetName&&(n[H.No]=p.Rt.assetName),i[H.No]=t.assetName,p.Rt.assetName=t.assetName):p.l.warning("mergeContentMetadata(): assetName was not changed.")),Q.St(t.applicationName)&&(p.Rt.applicationName!==t.applicationName?(p.Rt.applicationName&&(n[H.Oo]=p.Rt.applicationName),i[H.Oo]=t.applicationName,p.Rt.applicationName=t.applicationName):p.l.warning("mergeContentMetadata(): applicationName was not changed.")),Q.St(t.streamUrl)&&(p.Rt.streamUrl!==t.streamUrl?(p.Rt.streamUrl&&(n[H.Go]=p.Rt.streamUrl),i[H.Go]=t.streamUrl,p.Rt.streamUrl=t.streamUrl,p.hn=p.Rt.streamUrl):p.l.warning("mergeContentMetadata(): streamUrl was not changed.")),Q.St(t.viewerId)&&(p.Rt.viewerId!==t.viewerId?(p.Rt.viewerId&&(n[H.go]=p.Rt.viewerId),i[H.go]=t.viewerId,p.Rt.viewerId=t.viewerId):p.l.warning("mergeContentMetadata(): viewerId was not changed.")),Q.St(t.defaultResource)&&(p.Rt.defaultResource!==t.defaultResource?(p.Rt.defaultResource&&(n[H.Fo]=p.Rt.defaultResource),i[H.Fo]=t.defaultResource,p.Rt.defaultResource=t.defaultResource):p.l.warning("mergeContentMetadata(): defaultResource was not changed.")),Q.dt(t.duration)&&t.duration>0&&(p.Rt.duration!==t.duration?(p.gh>0&&(n[H.Mo]=p.gh),i[H.Mo]=t.duration,p.Rt.duration=t.duration,p.gh=p.Rt.duration):p.l.warning("mergeContentMetadata(): duration was not changed.")),Q.dt(t.encodedFrameRate)&&t.encodedFrameRate>0&&(p.Rt.encodedFrameRate!==t.encodedFrameRate?(p.Rt.encodedFrameRate>-1&&(n[H.Lo]=p.Rt.encodedFrameRate),i[H.Lo]=t.encodedFrameRate,p.Rt.encodedFrameRate=t.encodedFrameRate,p.ln=p.Rt.encodedFrameRate):p.l.warning("mergeContentMetadata(): encodedFrameRate was not changed.")),t.streamType!==c.StreamType.UNKNOWN&&(p.Rt.streamType!==t.streamType?(p.Rt.streamType!==c.StreamType.UNKNOWN&&(p.Rt.streamType===c.StreamType.LIVE?n[H.vo]=!0:n[H.vo]=!1),t.streamType===c.StreamType.LIVE?i[H.vo]=!0:i[H.vo]=!1,p.Rt.streamType=t.streamType):p.l.warning("mergeContentMetadata(): streamType was not changed.")),Q.mt(t.custom)>0){var e,s={},o={};for(e in t.custom)p.Rt.custom[e]!==t.custom[e]?(s[e]=t.custom[e],p.Rt.custom[e]&&(o[e]=p.Rt.custom[e]),p.Rt.custom[e]=t.custom[e]):p.l.info("mergeContentMetadata(): custom."+e+" was not changed.");Q.mt(s)>0?(Q.mt(o)>0&&(n[H._o]=o),i[H._o]=s):p.l.warning("mergeContentMetadata(): custom was not changed.")}Q.mt(i)>0&&this.Ba(i,n)},this.Oa=function(){var t;p.l.debug("setStatesFromContentMetadata()"),p.Rt.defaultResource&&this.yu(p.Rt.defaultResource),p.Rt.streamUrl&&this.zu(p.Rt.streamUrl),p.Rt.duration>0&&this.Cu(p.Rt.duration),p.Rt.encodedFrameRate>0&&this.mu(p.Rt.encodedFrameRate),p.Rt.streamType!==c.StreamType.UNKNOWN&&(t=p.Rt.streamType===c.StreamType.LIVE,this.ru(t)),p.Rt.assetName&&this.pu(p.Rt.assetName),p.Rt.viewerId&&this.Eu(p.Rt.viewerId),(p.Rt.applicationName||p.Rt.playerName)&&this.Ru(p.Rt.applicationName||p.Rt.playerName),Q.mt(p.Rt.custom)>0&&this.wu(p.Rt.custom)},this._a=function(){var t={};if(this.Na()||(p.Rt.assetName?t[H.No]=p.Rt.assetName:p.l.warning("enqueueEventForContentMetadata(): assetName was not set."),p.Rt.applicationName?t[H.Oo]=p.Rt.applicationName:p.l.warning("enqueueEventForContentMetadata(): applicationName was not set."),p.Rt.streamUrl?t[H.Go]=p.Rt.streamUrl:p.l.warning("enqueueEventForContentMetadata(): streamUrl was not set."),p.Rt.viewerId?t[H.go]=p.Rt.viewerId:p.l.warning("enqueueEventForContentMetadata(): viewerId was not set."),p.Rt.defaultResource?t[H.Fo]=p.Rt.defaultResource:p.l.warning("enqueueEventForContentMetadata(): defaultResource was not set."),p.Rt.duration>-1?t[H.Mo]=p.Rt.duration:p.l.warning("enqueueEventForContentMetadata(): duration was not set."),p.Rt.encodedFrameRate>-1?t[H.Lo]=p.Rt.encodedFrameRate:p.l.warning("enqueueEventForContentMetadata(): encodedFrameRate was not set."),p.Rt.streamType!==c.StreamType.UNKNOWN?p.Rt.streamType===c.StreamType.LIVE?t[H.vo]=!0:t[H.vo]=!1:p.l.warning("enqueueEventForContentMetadata(): streamType was not set.")),Q.mt(p.Rt.custom)>0)for(var n in t[H._o]={},p.Rt.custom)t[H._o][n]=p.Rt.custom[n];else this.Na()||p.l.warning("enqueueEventForContentMetadata(): custom tags were not set.");Q.mt(t)>0&&this.Ba(t,null)},this.Ca=function(){p.Rt&&Q.St(p.Rt.assetName)||p.l.warning("Missing assetName during session creation"),p.Rt&&Q.St(p.Rt.defaultResource)||p.l.warning("Missing resource during session creation"),p.Rt&&Q.St(p.Rt.streamUrl)||p.l.warning("Missing streamUrl during session creation"),(!p.Rt||p.Rt.encodedFrameRate<=0)&&p.l.warning("Missing encodedFrameRate during session creation"),p.Rt&&Q.St(p.Rt.viewerId)||p.l.warning("Missing viewerId during session creation"),p.Rt&&p.Rt.streamType&&c.StreamType.UNKNOWN!==p.Rt.streamType||p.l.warning("Missing streamType during session creation"),p.Rt&&Q.St(p.Rt.applicationName)||p.l.warning("Missing applicationName during session creation"),(!p.Rt||p.Rt.duration<=0)&&p.l.warning("Missing duration during session creation")},this.Bt=function(t,n){p.Bh||(p.Bh={}),p.Bh[t]=n},this.Aa=function(){var t={};p.Gi.C&&(t[H.qo]=p.Gi.C,p.C=p.Gi.C),p.Gi.I&&(t[H.Yo]=p.Gi.I,p.I=p.Gi.I),Q.mt(t)>0&&this.Ba(t,null)}};j.wa=H.xr.lt+H.xr.Yr+H.xr.Jr,j.vt={lt:"Video",qr:"Global",Tt:"Ad"};var K=ut.Session=function(){var e=this;e.ue=null,e.g=0,e.Ea=j.vt.lt,e.xf=!1,e.Kh=!1,e.qf=!1,e.Yf=null,e.Ki=null,e.Jf=null,e.Xf=!1,e.Qf=u.PlayerState.NOT_MONITORED,e.Zf=!1,e.zf=!1,e.$f=!1,e.tc=!1,e.nc=!1,function(t,n,i,e,s,o,r){this.g=t,this.Ea=n,this.ca=i,this.ic=e,this.pt=s,this.T=o,this.l=r}.apply(e,arguments),this.va=function(t,n){e.pt.va(this),t&&e.At(t),e.ca.ec()?e.sc(n):e.ca.oc(function(){e.sc(n)})},this.cleanup=function(){e.xf=!0,e.pt.Sa(),e.ca.ec()?e.rc():e.ca.oc(function(){e.rc()})},this.uc=function(){(e.pa()||e.Ra())&&e.ue&&e.hc(),e.T=null,e.Gi=null,e.ca=null,e.ic=null,e.pt.ft(),e.pt=null,e.Kh=!0},this.rc=function(){e.pt.Ia(),e.uc()},this.sc=function(t){e.pt.ga(),e.ac(),t?(e.gt(t.Ps(),t.bs()),e.pt.Se(u.PlayerState.STOPPED),e.pt.Ia(),e.uc()):e.pt.ba()},this.ac=function(){var t=e.ic.get(),n=t[st.BROWSER_NAME];n&&e.pt.Lu(n);n=t[st.BROWSER_VERSION];n&&e.pt.Uu(n);n=t[st.DEVICE_BRAND];n&&e.pt.Vu(n);n=t[st.DEVICE_MANUFACTURER];n&&e.pt.ku(n);n=t[st.DEVICE_MODEL];n&&e.pt.Fu(n);n=t[st.DEVICE_TYPE];n&&e.pt.Hu(n);n=t[st.DEVICE_VERSION];n&&e.pt.Bu(n);n=t[st.FRAMEWORK_NAME];n&&e.pt.Gu(n);n=t[st.FRAMEWORK_VERSION];n&&e.pt.ju(n);n=t[st.OPERATING_SYSTEM_NAME];n&&e.pt.Ku(n);n=t[st.OPERATING_SYSTEM_VERSION];n&&e.pt.Wu(n);n=t[st.DEVICE_CATEGORY];n&&e.pt.xu(n);n=t[st.SCREEN_WIDTH];n&&e.pt.qu(n);n=t[st.SCREEN_HEIGHT];n&&e.pt.Yu(n);t=t[st.SCALE_FACTOR];t&&e.pt.Ju(t)},this.Kn=function(t){e.pt.En!==t&&(e.pt.En===u.PlayerState.NOT_MONITORED&&t!==u.PlayerState.NOT_MONITORED&&(e.Qf=t),e.Xf||e.pt.Se(t))},this.Wn=function(t){e.Zf||e.pt.Ga(t)},this.zn=function(t){e.zf||e.pt.Xu(t)},this.$n=function(t){e.zf||e.pt.ts(t)},this.xn=function(t,n){Q.dt(n)||(n=-1),e.pt.Ef(t,n)},this.yn=function(t){t>0&&(e.tc||e.pt.mu(t))},this.Pn=function(t){t>0&&(e.tc||e.pt.Cu(t))},this.bn=function(t){e.pt.zu(t)},this.qn=function(t){e.pt.Ja(t)},this.Yn=function(t){e.pt.Qa(t)},this.Y=function(t){e.pt.nh(t)},this.X=function(t){e.pt.ih(t)},this.Vn=function(t){e.pt.La()||e.pt.Gu(t)},this.Fn=function(t){e.pt.Ua()||e.pt.ju(t)},this.Xn=function(t){e.pt.rh(t)},this.Jn=function(t,n){e.gt(t,n)},this.Cn=function(){e.hc()},this.Mt=function(t,n,i){e.qf||(e.qf=!0,e.Yf=t,e.Ki=n,e.Jf=i,e.pt.nf(!0),e.Yf===a.AdStream.CONTENT||e.Ki===a.AdPlayer.SEPARATE?(e.pt.En!==u.PlayerState.NOT_MONITORED&&(e.Qf=e.pt.En),e.pt.Se(u.PlayerState.NOT_MONITORED),e.Xf=!0):e.Yf===a.AdStream.SEPARATE&&e.Ki===a.AdPlayer.CONTENT&&(e.pt.En!==u.PlayerState.NOT_MONITORED&&(e.Qf=e.pt.En),e.pt.Se(u.PlayerState.NOT_MONITORED),e.Xf=!0,e.Zf=!0,e.zf=!0,e.tc=!0,e.$f=!0))},this.Lt=function(){e.qf&&(e.pt.nf(!1),e.Yf===a.AdStream.CONTENT||e.Ki===a.AdPlayer.SEPARATE?e.fc||(e.Xf=!1,e.pt.Se(e.Qf)):e.Yf===a.AdStream.SEPARATE&&e.Ki===a.AdPlayer.CONTENT&&(e.Zf=!1,e.zf=!1,e.tc=!1,e.$f=!1,e.nc=!1,e.fc||(e.Xf=!1,e.pt.Se(e.Qf))),e.qf=!1,e.Yf=e.Ki=e.Jf=null)},this.Ot=function(){e.ue&&e.ue&&(e.T.D("Session.detachPlayer",function(){e.ue.In()}),e.ue=null,e.pt.cf(null),e.pt.Se(u.PlayerState.NOT_MONITORED))},this.hc=function(){e.ue&&(e.T.D("Session.releasePlayerStateManager",function(){e.ue.In()}),e.ue=null,e.pt.cf(null),e.pt.Se(u.PlayerState.NOT_MONITORED))},this._t=function(){e.pt.nf(!0),e.pt.En!==u.PlayerState.NOT_MONITORED&&(e.Qf=e.pt.En),e.pt.Se(u.PlayerState.NOT_MONITORED),e.Xf=!0},this.At=function(t){e.ue||t instanceof u&&e.T.D("Session.attachPlayer()",function(){t.setMonitoringNotifier(e,e.g)&&(t.Hn(),e.ue=t,e.pt.cf(e.ue))})},this.Ct=function(){e.pt.nf(!1),e.Zf=!1,e.zf=!1,e.tc=!1,e.$f=!1,e.nc=!1,e.fc||(e.Xf=!1,e.Qf!==u.PlayerState.NOT_MONITORED&&e.pt.Se(e.Qf))},this.Vt=function(){return e.ue},this.It=function(){e.fc||(e.fc=!0,e.Xf=!0)},this.yt=function(){e.fc&&(e.fc=!1,e.qf||(e.Xf=!1,e.Qf!==u.PlayerState.NOT_MONITORED&&e.pt.Se(e.Qf)))},this.gt=function(t,n){Q.St(t)&&(n!==a.ErrorSeverity.FATAL&&n!==a.ErrorSeverity.WARNING||e.nc||(n=n===a.ErrorSeverity.FATAL,e.pt.ef(t,n)))},this.Nt=function(t){e.T.D("Session.updateContentMetadata",function(){e.pt.Nt(t)})},this.bt=function(t,n){e.pt.pf(t,n)},this.Na=function(){return e.Ea===j.vt.qr},this.pa=function(){return e.Ea===j.vt.lt},this.Ra=function(){return e.Ea===j.vt.Tt},this.Ta=function(){return e.Na()?" (global session)":""},this.Ft=function(){return this.g},this.Ht=function(){var t=null;return e.ca.ec()&&(t=e.ca.get(q.P)),t},this.Bt=function(t,n){e.pt.Bt(t,n)}};K.Kf="received no response (or a bad response) to heartbeat POST request";var W=ut.SessionFactory=function(){var o=this;o.ci=null,o.cc=0,o.lc=null,function(t,n,i,e){o.Gi=t,o.ai=n,o.ca=i,o.d=e,o.cc=0,o.lc={}}.apply(o,arguments),this.ft=function(){for(var t in 0,o.ci=null,o.lc)o.lc[t].cleanup();o.lc=null,o.cc=0},this.vc=function(){var t=o.cc;return o.cc++,t},this.ct=function(t,n,i,e,s){return t||(t=new c),o.dc(t,n,i,e,s)},this.H=function(t){return o.dc(t,j.vt.qr,void 0,T.version)},this.Ec=function(){return $.pc()},this.dc=function(t,n,i,e,s){t=o.d._i(o.Gi,o.ai,o.ca,o.Ec(),n,t.tt(),e),e=o.vc();return"undefined"!==typeof s&&"undefined"!==typeof s.error?t.va(i,s.error):(o.Rc(e,t),t.va(i)),e},this.Pt=function(t){t=o.lc[t];return t},this.Et=function(t){t=this.Pt(t);return t&&(t.pa()||t.Ra()||(t=null)),t},this.Rc=function(t,n){o.lc[t]=n},this.wc=function(t){delete o.lc[t]},this.Ut=function(t){var n=o.Pt(t);o.wc(t),n.cleanup()},this.q=function(){return o.lc}},x=ut.Tc=function(t){this.ji=t,this.Sc=function(i,t,n){var e=!1;this.ji.createOnce(function(){e||i(!(e=!0),n+" ("+t+" ms)")},t,"CallbackWithTimeout.wrap");return function(t,n){e||(e=!0,i(t,n))}}},q=ut.Config=function(t,n,i){var e=this;this.gc=n,this.Nc=i,this.Oc={clientId:H.M,iid:H.Hs,sendLogs:!1,maxHbInfos:H.Gs},this.S=Q.bf(this.Oc),this._c=!1,this.Ac=!1,this.Cc=[],this.ec=function(){return this._c},this.ot=function(){this.gc.ot(q.Ic,function(t,n){t&&e.yc(n),e._c=!0,e.mc()})},this.yc=function(t){var n=this.Nc.zr(t);n?n&&(t=n[q.Dc],n=n[q.rt],t&&t!==H.M&&""!==t&&"null"!==t&&(this.S[q.P]=t),n!==H.Hs&&""!==n&&"null"!==n&&(this.S[q.rt]=n)):this.Ac=!0},this.Pc=function(){var t={};return t[q.Dc]=this.S.clientId,this.Nc.Zr(t)},this.Bf=function(){this.gc.Bf(q.Ic,this.Pc(),function(){0})},this.oc=function(t){this.ec()?t():this.Cc.push(t)},this.get=function(t){return this._c?this.S[t]:null},this.set=function(t,n){this._c&&(this.S[t]=n)},this.mc=function(){for(var t;"undefined"!==typeof(t=this.Cc.shift());)t()}};q.Ic="sdkConfig",q.Dc="clId",q.rt="iid",q.P="clientId",q.Cf="sendLogs",q.Nf="maxHbInfos",q.mf="c3.fp.",q.jt={Df:"0",bc:"1",Kt:"2",Gt:"3",Pf:"4",xt:"5",Wt:"6"};var Y=ut.EventQueue=function(){this.Mc=[],this.Lc=0,this.ff=function(t){this.Mc.push(t)},this.hf=function(){var t=this.Lc;return this.Lc++,t},this.la=function(){var t=this.Mc;return this.Mc=[],t}},J=ut.ExceptionCatcher=function(t,n,i){this.Uc=n,this.w=i,this.D=function(n,t,i){try{t()}catch(t){if(i)i(t);else{if(this.w.allowUncaughtExceptions)throw t;this.Vc(n,t)}}},this.Vc=function(t,n){var i="Uncaught exception: "+t+": "+n.toString();if(this.Uc)try{this.Uc.Ff(i)}catch(t){0}}},X=ut.GatewayControl=function(t,n,i,e,s){var o=this;this.ai=t,this.kc=i,this.Nc=e,this.Fc=s,this.Ff=function(t,e){var n=(this.Fc?this.Fc.indexOf("ipv4")>-1?this.ai.L:this.ai.B:this.ai.gatewayUrl)+H.Fs;this.kc.Hc("POST",n,this.Nc.Zr(t),"application/json",function(t,n){var i;t?(i=o.Nc.zr(n),e(t,i)):e(t,n)})}},Q=ut.Lang={};Q.Bc=function(t){return Q.St(t)&&t&&"undefined"!==t&&"null"!==t},Q.Dt=function(t){var n,i,e={};for(n in t)Q.Bc(n)&&(i=t[n],Q.Bc(i)&&(e[n]=i));return e},Q.mn=function(t,n,i){if(!t)throw new Error("Expected "+i+" implementation is null.");for(var e in n)if("function"!==typeof t[e])throw new Error("Expected method "+e+" in "+i+" implementation.")},Q.mt=function(t){var n,i=0;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&i++;return i},Q.wt=function(t){return""+t},Q.Gc=function(t){return Math.floor(t)},Q.Zt=function(t){return Math.abs(Q.Gc(t))},Q.jc=function(t){return Boolean(t)},Q.St=function(t){return"string"===typeof t&&""!==t},Q.jf=function(t,n){return"string"===typeof t&&"string"===typeof n&&("function"===typeof t.indexOf&&0===t.indexOf(n))},Q.mi=function(t){return"boolean"===typeof t},Q.Kc=function(t){return escape(t)},Q.$r=function(t){return"object"===typeof t},Q.qa=function(t){var n,i="";for(n in t)i+=n+"="+t[n];return"Object{"+i+"}"},Q.Wc=function(t){var n,i=Q.bf(t);for(n in i)i[n]||delete i[n];return i},Q.bf=function(t){var n,i={};for(n in t)i[n]=t[n];return i},Q.xa=function(t,n){if(typeof t!==typeof n)return!1;if(t instanceof Object&&n instanceof Object){if(Q.mt(t)!==Q.mt(n))return!1;for(var i in t)if(!(t[i]===n[i]))return!1;return!0}return t===n},Q.cs=function(){for(var t={},n=0;n<arguments.length;n++)for(var i in arguments[n])arguments[n][i]&&(t[i]=arguments[n][i]);return t},Q.dt=function(t){return"number"===typeof t&&Math.round(t)===t},Q.xc=function(t){return"[object Array]"===Object.prototype.toString.call(t)},Q.qc=function(t,n){if(t===n)return!0;if(!t||!n)return!1;if(t.length!==n.length)return!1;for(var i=0;i<t.length;++i)if(Q.xc(t[i])&&Q.xc(n[i])){if(!Q.qc(t[i],n[i]))return!1}else if(t[i]!==n[i])return!1;return!0},Q.Yc=function(){return"undefined"!==typeof Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}()},Q.Yt=function(t,n,i){if(Q.Yc())Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:i});else{if("undefined"===typeof t.__defineGetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineGetter__");t.__defineGetter__(n,i)}},Q.Jt=function(t,n,i){if(Q.Yc())Object.defineProperty(t,n,{configurable:!0,set:i});else{if("undefined"===typeof t.__defineSetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineSetter__");t.__defineSetter__(n,i)}},Q.Uf=function t(n){function i(t,n){return t>>>n|t<<32-n}for(var e,s,o,r=Math.pow,u=r(2,32),h="length",a="",f=[],c=8*n[h],l=t.h=t.h||[],v=t.k=t.k||[],d=v[h],E={},p=2;d<64;p++)if(!E[p]){for(e=0;e<313;e+=p)E[e]=p;l[d]=r(p,.5)*u|0,v[d++]=r(p,1/3)*u|0}for(n+="\\0";n[h]%64-56;)n+="\\0";for(e=0;e<n[h];e++){if((s=n.charCodeAt(e))>>8)return null;f[e>>2]|=s<<(3-e)%4*8}for(f[f[h]]=c/u|0,f[f[h]]=c,s=0;s<f[h];){var R=f.slice(s,s+=16),w=l;for(l=l.slice(0,8),e=0;e<64;e++){o=R[e-15],g=R[e-2];var T=l[0],S=l[4],g=l[7]+(i(S,6)^i(S,11)^i(S,25))+(S&l[5]^~S&l[6])+v[e]+(R[e]=e<16?R[e]:R[e-16]+(i(o,7)^i(o,18)^o>>>3)+R[e-7]+(i(g,17)^i(g,19)^g>>>10)|0);(l=[g+((i(T,2)^i(T,13)^i(T,22))+(T&l[1]^T&l[2]^l[1]&l[2]))|0].concat(l))[4]=l[4]+g|0}for(e=0;e<8;e++)l[e]=l[e]+w[e]|0}for(e=0;e<8;e++)for(s=3;s+1;s--){var N=l[e]>>8*s&255;a+=(N<16?0:"")+N.toString(16)}return a},function(){var n={two32:4294967296};n.Jc=n.two32-1,n.Xc=0,Q.Qc=n,Q.Qc.Cast=function(t){t=parseInt(t,10);return t>n.Jc?t=t%n.two32:t<n.Xc&&(t=-t%n.two32,t=n.two32-t),t},Q.Qc.Zc=function(t){t=parseInt(t,10);return t<=n.Jc&&t>=n.Xc};var i={Jc:2147483647,Xc:-2147483648};Q.kf=i,Q.kf.Cast=function(t){t=parseInt(t,10);return t>i.Jc?t=t%i.Jc:t<i.Xc&&(t=-t%i.Jc,t=i.Jc-t),t},Q.kf.Zc=function(t){t=parseInt(t,10);return t<=i.Jc&&t>=i.Xc},Q.Ds=function(){return window&&window.location&&window.location.search?window.location.search:""},Q.zc=function(){return document&&document.referrer?document.referrer:""}}();var Z=ut.LogBuffer=function(){this.$c=[],this.tl=function(t){this.$c.length>=32&&this.$c.shift(),this.$c.push(t)},this.la=function(){var t=this.$c;return this.$c=[],t}},z=ut.Ping=function(t,n,i,e){this.nl=!1,this.il=null,this.l=t,this.l.setModuleName("Ping"),this.kc=n,this.ai=i,this.fi=e,this.Ff=function(t){this.nl||(this.nl=!0,t=this.el()+"&d="+Q.Kc(t.toString()),this.l.error("send(): "+t),this.kc.Hc("GET",t,null,null,null),this.nl=!1)},this.el=function(){if(!this.il){var t=z.sl+"?comp="+z.ol+"&clv="+(this.fi||a.version);if(this.ai&&(t+="&cid="+this.ai.customerKey),t+="&sch="+H.xs,!this.ai)return t;this.il=t}return this.il}};z.ol="sdkjs",z.sl="https://pings.conviva.com/ping.ping";var $=ut.rl={};$.ul=4294967295,$.hl=2147483647,$.al=-2147483648,$.pc=function(){return Math.floor(Math.random()*$.ul)+$.al},$.ut=function(){return Math.floor(Math.random()*$.ul)};var tt=ut.fl={};tt.af=function(t,n,i,e){if(isNaN(t))return e;if("number"!==typeof t)return e;if(t===e)return e;t=Q.Gc(t);return tt.cl(t,n,i)},tt.cl=function(t,n,i){return Q.dt(i)&&t>i?t=i:Q.dt(n)&&t<n&&(t=n),t},tt.cn=function(t){return-1===t||-2===t?t:t=tt.af(t,0,null,-1)};var nt=ut.StreamerError=function(){var i=this;i.errorCode=null,i.severity=a.ErrorSeverity.FATAL,function(t,n){i.errorCode=t,i.severity=n}.apply(i,arguments),this.Ps=function(){return i.errorCode},this.bs=function(){return i.severity}},it=ut.HttpClient=function(t,n,i,e){this.ei=n,this.ll=i,this.w=e,this.Hc=function(t,n,i,e,s){var o=1e3*this.w.httpTimeout,r=null;s&&(r=this.ll.Sc(s,o,"HTTP timeout")),this.ei.makeRequest(t,n,i,e,o,r)}},et=ut.Logger=function(t,n,i,e,s){this.ri=t,this.ni=n,this.R=i,this.ci=e,this.hi=s,this.debug=function(t){this.log(t,w.LogLevel.DEBUG)},this.info=function(t){this.log(t,w.LogLevel.INFO)},this.warning=function(t){this.log(t,w.LogLevel.WARNING)},this.error=function(t){this.log(t,w.LogLevel.ERROR)},this.log=function(t,n){t=this.vl(t,n);this.ci.tl(t),this.R.logLevel<=n&&this.ri.consoleLog(t,n)},this.dl=function(t){return"["+this.Sn+"] "+t},this.El=function(t){return"["+this.hi+"] "+t},this.pl=function(t){return"[Conviva] "+t},this.Rl=function(t){return"["+(this.ni.getEpochTimeMs()/1e3).toFixed(3).toString()+"] "+t},this.wl=function(t,n){return"["+et.Tl(n)+"] "+t},this.Sl=function(t){return this.gl&&(t="sid="+this.gl+" "+t),t},this.vu=function(t){this.gl=t},this.setModuleName=function(t){this.Sn=t},this.vl=function(t,n){return this.pl(this.Rl(this.wl(this.El(this.dl(this.Sl(t))),n)))}};et.Tl=function(t){var n;switch(t){case w.LogLevel.ERROR:n="ERROR";break;case w.LogLevel.WARNING:n="WARNING";break;case w.LogLevel.INFO:n="INFO";break;case w.LogLevel.DEBUG:n="DEBUG"}return n},ut.Storage=function(t,n,i,e){this.si=n,this.ll=i,this.w=e,this.ot=function(t,n){n=this.ll.Sc(n,1e3*this.w.storageTimeout,"storage load timeout");this.si.loadData(ut.Storage.Nl,t,n)},this.Bf=function(t,n,i){i=this.ll.Sc(i,1e3*this.w.storageTimeout,"storage save timeout");this.si.saveData(ut.Storage.Nl,t,n,i)}},ut.Storage.Nl="Conviva";var st=ut.SystemMetadata=function(t,n,i){this.oi=n,this.T=i,this.Ol=null,this.get=function(){return this.Ol||this.retrieve(),this.Ol},this.retrieve=function(){var t={};t[st.BROWSER_NAME]=this.oi.getBrowserName,t[st.BROWSER_VERSION]=this.oi.getBrowserVersion,t[st.DEVICE_BRAND]=this.oi.getDeviceBrand,t[st.DEVICE_MANUFACTURER]=this.oi.getDeviceManufacturer,t[st.DEVICE_MODEL]=this.oi.getDeviceModel,t[st.DEVICE_TYPE]=this.oi.getDeviceType,t[st.DEVICE_VERSION]=this.oi.getDeviceVersion,t[st.FRAMEWORK_NAME]=this.oi.getFrameworkName,t[st.FRAMEWORK_VERSION]=this.oi.getFrameworkVersion,t[st.OPERATING_SYSTEM_NAME]=this.oi.getOperatingSystemName,t[st.OPERATING_SYSTEM_VERSION]=this.oi.getOperatingSystemVersion,t[st.DEVICE_CATEGORY]=this.oi.getDeviceCategory,t[st.SCREEN_WIDTH]=this.oi.getScreenWidth,t[st.SCREEN_HEIGHT]=this.oi.getScreenHeight,t[st.SCALE_FACTOR]=this.oi.getScaleFactor;var n,e=this;for(n in 0,t)!function(n,i){e.T.D("Session.getSystemMetadataSchema(): "+n,function(){var t=i[n];i[n]=t.call(e.oi)})}(n,t),Q.St(t[n])||delete t[n];var i=!1;if("undefined"!==typeof t[st.DEVICE_TYPE]){for(var s in a.DeviceType)if(t[st.DEVICE_TYPE]===a.DeviceType[s]){i=!0;break}i||delete t[st.DEVICE_TYPE]}if(i=!1,"undefined"!==typeof t[st.DEVICE_CATEGORY]){for(var o in a.DeviceCategory)if(t[st.DEVICE_CATEGORY]===a.DeviceCategory[o]){i=!0;break}i||delete t[st.DEVICE_CATEGORY]}this.Ol=Q.Wc(t)}};st.BROWSER_NAME="browserName",st.BROWSER_VERSION="browserVersion",st.DEVICE_BRAND="deviceBrand",st.DEVICE_MANUFACTURER="deviceManufacturer",st.DEVICE_MODEL="deviceModel",st.DEVICE_TYPE="deviceType",st.DEVICE_VERSION="deviceVersion",st.FRAMEWORK_NAME="frameworkName",st.FRAMEWORK_VERSION="frameworkVersion",st.OPERATING_SYSTEM_NAME="operatingSystemName",st.OPERATING_SYSTEM_VERSION="operatingSystemVersion",st.DEVICE_CATEGORY="deviceCategory",st.SCREEN_WIDTH="screenWidth",st.SCREEN_HEIGHT="screenHeight",st.SCALE_FACTOR="scaleFactor";var ot=ut.Time=function(t,n){this.ni=t,this.l=n,this.current=function(){var t=this.ni.getEpochTimeMs();return Q.dt(t),t}},rt=ut.Timer=function(t,n,i){var s=this;this.ii=n,this.T=i,this.create=function(t,n,i){return this.createTimer(function(){s.T.D(i,function(){t()})},n,i)},this.createOnce=function(t,n,i){var e={cancel:null};return e.cancel=this.createTimer(function(){s.T.D(i,function(){e&&"function"===typeof e.cancel&&(e.cancel(),e.cancel=null,e=null),t()})},n,i),e.cancel},this.createTimer=function(t,n,i){return this.ii.createTimer(t,n,i)}}}()}(),ht});'},,function(t,e,n){"use strict";n.r(e);n(12),n(444);function i(t){this.consoleLog=function(e,n){"undefined"!=typeof console&&(console.log&&n===t.SystemSettings.LogLevel.DEBUG||n===t.SystemSettings.LogLevel.INFO?console.log(e):console.warn&&n===t.SystemSettings.LogLevel.WARNING?console.warn(e):console.error&&n===t.SystemSettings.LogLevel.ERROR&&console.error(e))},this.release=function(){}}function r(t,e,n){this.getBrowserName=function(){return null},this.getBrowserVersion=function(){return null},this.getDeviceBrand=function(){return null},this.getDeviceCategory=function(){return window.Conviva.Client.DeviceCategory.WEB},this.getDeviceManufacturer=function(){return null},this.getDeviceModel=function(){return null},this.getDeviceType=function(){return null},this.getDeviceVersion=function(){return null},this.getFrameworkName=function(){return t.frameworkName?t.frameworkName:e},this.getFrameworkVersion=function(){return t.frameworkVersion?t.frameworkVersion:n},this.getOperatingSystemName=function(){return null},this.getOperatingSystemVersion=function(){return null},this.release=function(){}}function o(){this.getEpochTimeMs=function(){return(new Date).getTime()},this.release=function(){}}function a(){this.createTimer=function(t,e,n){var i=setInterval(t,e);return function(){-1!==i&&(clearInterval(i),i=-1)}},this.release=function(){}}n(14),n(195);function s(){this.makeRequest=function(t,e,n,i,r,o){return this.makeRequestStandard(t,e,n,i,r,o)},this.makeRequestStandard=function(t,e,n,i,r,o){if(window.pageTerminating&&"function"==typeof fetch)return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:n,keepalive:!0}),null;var a=new XMLHttpRequest;return a.open(t,e,!window.pageTerminating),i&&a.overrideMimeType&&(a.overrideMimeType=i),i&&a.setRequestHeader&&a.setRequestHeader("Content-Type",i),r>0&&(a.timeout=r,a.ontimeout=function(){a.ontimeout=a.onreadystatechange=null,o&&o(!1,"timeout after "+r+" ms")}),a.onreadystatechange=function(){4===a.readyState&&(a.ontimeout=a.onreadystatechange=null,200==a.status?o&&o(!0,a.responseText):o&&o(!1,"http status "+a.status))},a.send(n),null},this.release=function(){}}n(36);var u=window.localStorage;function c(){this.saveData=function(t,e,n,i){var r=t+"."+e;try{u.setItem(r,n),i(!0,null)}catch(t){i(!1,t.toString())}},this.loadData=function(t,e,n){var i=t+"."+e;try{n(!0,u.getItem(i))}catch(t){n(!1,t.toString())}},this.release=function(){}}n(30),n(128),n(271),n(142);var h=window.anvp.AnvatoCustomPluginInterface,l=h.services,f=h.nodeInfo;function p(t,e,n,i,r,o){var a,s=t.PlayerStateManager.PlayerState,u=t.Client,c=-1,h=null,p=null,d=null,v=null,E=!1,g=null,T=null,S=null,y=null,R=null,m=0,N=0,A=!1,O=!1,I=null,_=!1,D=!1,C=!1,P=!1,w=!1,H=!1;this.sendBeacon=function(t,e,i,r){var o=e.contentInfo;switch(t){case"METADATA_LOADED":if(e.failoverInProgress&&!C)break;this.closeAndCleanupSession(e),(a=l.getDerivedMetadata("plugins:conviva:mapping:","")).context&&(a.context=l.getDerivedMetadata("plugins:conviva:mapping:context:","")),a=l.injectMacros(a),this.updateConvivaContentMetadata(e),this.updatePlayerStateManager(e,n),this.updateConvivaPlayerState(s.BUFFERING);break;case"PROGRAM_CHANGED":w=!0,this.updateConvivaContentMetadata(e),this.updateContentAssetName(e);break;case"USER_PLAY":if(e.failoverInProgress)break;case"VIDEO_STARTED":this.hasValidConvivaSession()||(this.updateConvivaContentMetadata(e),this.createConvivaSession(e),this.updateContentAssetName(e),this.attachPlayerToSession()),D=!0;break;case"USER_RESUME":case"PLAYING_START":case"USER_GOLIVE":"playingAdContent"===e.playerState?this.updateConvivaAdPlayerState(s.PLAYING):(this.updateConvivaPlayerState(s.PLAYING),P=!0);break;case"USER_PAUSE":this.updateConvivaPlayerState(s.PAUSED);break;case"STATE_CHANGE":"pausedVideoContent"==e.playerState&&this.updateConvivaPlayerState(s.PAUSED,!0),"playingVideoContent"==e.playerState&&(A&&this.adTrackingComplete(e),O&&this.adBreakTrackingComplete(e),D||this.updateConvivaPlayerState(s.PLAYING,!0));break;case"PLAYLIST_ITEM_CHANGED":break;case"BUFFER_START":this.updateConvivaPlayerState(s.BUFFERING,!e.isLive);break;case"BUFFER_END":this.trackBufferCompleted(e);break;case"USER_FORWARD_SEEK":case"USER_BACKWARD_SEEK":n.setPlayerSeekStart(e.seekingTo),_=!0;break;case"BITRATE_CHANGED":A?o.adIsClientSideInsertion||y.setBitrateKbps(e.currentBitrate):n.setBitrateKbps(e.currentBitrate);break;case"PLAYER_ERROR":var u=i[0],c=i[1];this.trackPlayerError(e,u,c);break;case"VIDEO_COMPLETED":this.updateConvivaPlayerState(s.STOPPED),e.isPostrollExpected?C=!0:this.closeAndCleanupSession(e);break;case"AD_BREAK_STARTED":N=i[1],this.adBreakTrackingStart(e,i[0],N);break;case"AD_BREAK_COMPLETED":this.adBreakTrackingComplete(e,i[0],N||null);break;case"AD_STARTED":this.adTrackingStart(e,i[0],i[1],i[2]);break;case"AD_SKIPPED":case"AD_COMPLETED":this.adTrackingComplete(e);break;case"PLAYER_EXIT":this.closeAndCleanupSession(e);break;case"CDN_PROVIDER_UPDATED":this.updateConvivaContentMetadata(e);break;case"PROGRAM_ENDED":this.closeAndCleanupSession(e)}},this.updateConvivaPlayerState=function(t,i){if(A&&!i)return this.updateConvivaAdPlayerState(t);e("updateConvivaPlayerState:Main:"+t),n&&this.hasValidConvivaSession()&&n.getPlayerState()!=t&&n.setPlayerState(t)},this.updateConvivaAdPlayerState=function(n){e("updateConvivaPlayerState:Ad:"+n),y&&this.hasValidConvivaSession()&&S!==t.NO_SESSION_KEY&&y.getPlayerState()!=n&&y.setPlayerState(n)},this.updateConvivaContentMetadata=function(n){e("updateConvivaContentMetadata");var r=n.contentInfo,o=parseInt(a.duration);Number.isNaN(o)?r.duration&&(h=parseInt(r.duration)):h=o,d?(d.duration=h,d.defaultResource=r.cdnProvider||a.defaultResource,h=d.duration,d.custom=a.context?a.context:{},null!=v&&i.updateContentMetadata(v,d)):((d=new t.ContentMetadata).streamUrl=a.streamUrl?a.streamUrl:r.videoURL,d.streamType=n.isLive?t.ContentMetadata.StreamType.LIVE:t.ContentMetadata.StreamType.VOD,d.defaultBitrateKbps=n.currentBitrate,d.applicationName=a.applicationName?a.applicationName:r.playerName,d.viewerId=a.viewerId,d.duration=h,d.defaultResource=r.cdnProvider||a.defaultResource,d.encodedFrameRate=a.encodedFrameRate?parseInt(a.encodedFrameRate):30,d.custom=a.context?a.context:{})},this.updatePlayerStateManager=function(t,n){e("updatePlayerStateManager");var i=t.contentInfo,r=f.videoNode,o=a.encodedFrameRate?parseInt(a.encodedFrameRate):30,s=Math.max(r.offsetWidth,r.clientWidth),u=Math.max(r.offsetHeight,r.clientHeight);s=s||parseInt(window.getComputedStyle(r).getPropertyValue("width")),u=u||parseInt(window.getComputedStyle(r).getPropertyValue("height")),n.setDuration(a.duration?a.duration:i.duration),!isNaN(s)&&s>=0&&n.setVideoResolutionWidth(s),!isNaN(u)&&u>=0&&n.setVideoResolutionHeight(u),o&&(o=parseInt(o),isNaN(o)||n.setEncodedFrameRate(o))},this.updateContentAssetName=function(t){if(e("updateContentAssetName"),!H&&d&&this.hasValidConvivaSession()){var n=t.contentInfo,i=null;a.assetName?i=a.assetName:t.isLive&&!w||(i=n.contentTitle),i&&(d.assetName=i,this.updateConvivaContentMetadata(t),delete d.assetName,H=!0)}},this.createConvivaSession=function(n){e("createConvivaSession"),d&&!this.hasValidConvivaSession()&&(v=i.createSession(d),H=!1,v===t.Client.NO_SESSION_KEY&&o("Conviva.Client.NO_SESSION_KEY"))},this.attachPlayerToSession=function(){e("attachPlayerToSession"),v==t.Client.NO_SESSION_KEY||null==i||i.isPlayerAttached(v)||i.attachPlayer(v,n)},this.trackBufferCompleted=function(t){e("trackBufferCompleted"),"playingVideoContent"===t.playerState&&P&&this.updateConvivaPlayerState(s.PLAYING,!0),"pausedVideoContent"===t.playerState&&this.updateConvivaPlayerState(s.PAUSED,!0)},this.adBreakTrackingStart=function(t,e,n){if(!O){switch("preroll"!=t.adPodType&&this.detachPlayerFromSession(),m+=1,t.adPodType){case"preroll":R=u.AdPosition.PREROLL;break;case"midroll":R=u.AdPosition.MIDROLL;break;case"postroll":R=u.AdPosition.POSTROLL}i.adStart(v,u.AdStream.SEPARATE,u.AdPlayer.SEPARATE,R);var r={podPosition:this.getAdPositionForConvivaClient(t.adPodType),podIndex:String(m),absoluteIndex:String(t.adPodIndex+1)};n&&(r.podDuration=String(n)),i.sendCustomEvent(v,"Conviva.PodStart",r),O=!0}},this.adBreakTrackingComplete=function(t,e,n){if(O){i.adEnd(v);var r={podPosition:this.getAdPositionForConvivaClient(t.adPodType),podIndex:String(m),absoluteIndex:String(t.adPodIndex+1)};n&&(r.podDuration=String(n)),i.sendCustomEvent(v,"Conviva.PodEnd",r),"postroll"===t.adPodType?this.closeAndCleanupSession(t):this.attachPlayerToSession(),O=!1,N=null}},this.adTrackingStart=function(n,r,o,u){var c=n.contentInfo;if(e("adTrackingStart: "+r+" :  "+o),S&&A&&r==I)return e("adTrackingStart, already tracking this ad, update ad metadata"),T.assetName=o||r,T.streamUrl=c.adMediaURL,T.duration=c.adDuration,T.custom=this.getAdMetadata(n,u,r,o),void i.updateContentMetadata(S,T);e("adSessionKey: "+S),e("isTrackingAd: "+A),e("content.adId: "+c.adId),e("adId: "+r),e("trackingAdId: "+I),(T=new t.ContentMetadata).assetName=o||r,T.streamUrl=c.adMediaURL,T.streamType=n.isLive?t.ContentMetadata.StreamType.LIVE:t.ContentMetadata.StreamType.VOD,T.applicationName=a.applicationName?a.applicationName:c.playerName,T.viewerId=a.viewerId,T.duration=c.adDuration,T.defaultResource=a.defaultResource,T.encodedFrameRate=a.encodedFrameRate?parseInt(a.encodedFrameRate):30,T.custom=this.getAdMetadata(n,u,r,o),y?y.reset():y=i.getPlayerStateManager(),(S=i.createAdSession(v,T))!==t.NO_SESSION_KEY&&(i.attachPlayer(S,y),this.updatePlayerStateManager(n,y),this.updateConvivaAdPlayerState(s.PLAYING),A=!0,I=r),c.adIsClientSideInsertion||y.setBitrateKbps(n.currentBitrate)},this.adTrackingComplete=function(e){S!==t.NO_SESSION_KEY&&(this.updateConvivaAdPlayerState(s.STOPPED),i.cleanupSession(S),y.reset()),S=null,A=!1},this.getAdMetadata=function(t,e,n,i){var r,o,s,u,c=t.contentInfo;c.vastAdWrapperIds&&c.vastAdWrapperIds.length?(u=c.vastAdWrapperIds.length-1,r=c.vastAdWrapperIds[u]):r=n||c.adId,c.vastWrapperAdSystems&&c.vastWrapperAdSystems.length?(u=c.vastWrapperAdSystems.length-1,o=c.vastWrapperAdSystems[u]):o=c.vastAdSystem||e,c.vastWrapperCreativeIds&&c.vastWrapperCreativeIds.length?(u=c.vastWrapperCreativeIds.length-1,s=c.vastWrapperCreativeIds[u]):s=c.vastCreativeId;var h={};if(h["c3.ad.technology"]=c.adIsClientSideInsertion?"Client Side":"Server Side",h["c3.ad.id"]=n||(c.adId||"NA"),h["c3.ad.system"]=e,h["c3.ad.position"]=this.getAdPositionForConvivaClient(t.adPodType),h["c3.ad.mediaFileApiFramework"]=c.vastApiFramework||"NA",h["c3.ad.isSlate"]="false",h["c3.ad.adStitcher"]=c.adIsClientSideInsertion?"NA":"Google Anvato DCS",h["c3.ad.creativeId"]=c.vastCreativeId||"NA",h["c3.ad.sequence"]=c.adIndex?""+c.adIndex:"NA",h["c3.ad.firstAdId"]=r||"NA",h["c3.ad.firstAdSystem"]=o||"NA",h["c3.ad.firstCreativeId"]=s||"NA",h["c3.ad.adUnitName"]=i||"NA",h["c3.ad.creativeName"]="NA",h["c3.ad.breakId"]="NA",h["c3.ad.category"]="NA",h["c3.ad.advertiser"]="NA",h["c3.ad.advertiserCategory"]="NA",h["c3.ad.advertiserId"]="NA",h["c3.ad.campaignName"]="NA",h["c3.ad.dayPart"]="NA",h["c3.ad.adManagerName"]="NA",h["c3.ad.adManagerVersion"]="NA",h["c3.ad.sessionStartEvent"]="NA",a.adContext)for(var l in a.adContext)({}).hasOwnProperty.call(a.adContext,l)&&(h[l]=a.adContext[l]);return h},this.detachPlayerFromSession=function(){e("detachPlayerFromSession"),this.hasValidConvivaSession()&&i.detachPlayer(v)},this.closeAndCleanupSession=function(t){e("closeAndCleanupSession"),A&&t&&this.adTrackingComplete(t),this.hasValidConvivaSession()&&null!=i&&(this.detachPlayerFromSession(),i.cleanupSession(v)),v=null,R=null,m=0,A=!1,O=!1,_=!1,C=!1,D=!1,w=!1},this.hasValidConvivaSession=function(){return void 0!==v&&"number"==typeof v&&v!=t.Client.NO_SESSION_KEY},this.updateTime=function(t,i,r){(!h&&i&&this.updateConvivaContentMetadata(r),_&&!r.isVideoSeeking&&(n.setPlayerSeekEnd(),_=!1),c!=t||A||O)?(E?(e("Player stalled ended, resuming tracking."),E=!1,this.trackBufferCompleted(r)):g&&(g=null),c=t):E||(g?(new Date).getMilliseconds()-g>1e3&&(e("Player stalled started, tracking as buffering."),E=!0,g=null,this.updateConvivaPlayerState(s.BUFFERING,!0)):g=(new Date).getMilliseconds())},this.trackPlayerError=function(t,n,r){if("string"!=typeof n||!n.startsWith("DFP")&&"ADST001"!==n){if(e("trackPlayerError: ",n,r,t.isFatalError),t.completedVideoContent)i.cleanupSession(v);else if(this.hasValidConvivaSession()){var o=t.isFatalError?u.ErrorSeverity.FATAL:u.ErrorSeverity.WARNING;i.reportError(v,r,o),t.isFatalError&&(D=!1)}}else C&&this.closeAndCleanupSession(t),this.trackPlayerAdError(t,n,r)},this.trackPlayerAdError=function(n,r,o){e("trackPlayerAdError: ",r,":",o);var s=n.contentInfo;if("DFP010"===r&&o&&o.indexOf("SDK enforced ad progress timeout")>-1)e("ignoring SDK enforced ad progress timeout error");else{if(null===S){(T=new t.ContentMetadata).assetName=s.adTitle||"Ad Request Failed",T.streamType=n.isLive?t.ContentMetadata.StreamType.LIVE:t.ContentMetadata.StreamType.VOD,T.applicationName=a.applicationName?a.applicationName:s.playerName,T.viewerId=a.viewerId,T.duration=s.adDuration,T.defaultResource=a.defaultResource,T.encodedFrameRate=parseInt(a.encodedFrameRate);var c="DFP010"===r?"dfp":"";T.custom=this.getAdMetadata(n,c),"DFP010"===r?(T.custom["c3.ad.technology"]="Client Side",T.custom["c3.ad.adStitcher"]="NA"):"ADST001"===r&&(T.custom["c3.ad.technology"]="Server Side"),S=i.createAdSession(v,T),y?y.reset():y=i.getPlayerStateManager(),S!==t.NO_SESSION_KEY&&(i.attachPlayer(S,y),this.updatePlayerStateManager(n,y))}i.reportError(S,o,u.ErrorSeverity.FATAL),A?(this.adTrackingComplete(n),this.adBreakTrackingComplete()):S&&null!==i&&(e("closeAndCleanup AdSession",S),i.cleanupSession(S)),S=null,R=null,m=0,A=!1}},this.getAdPositionForConvivaClient=function(t){switch(t){case"preroll":return"Pre-roll";case"midroll":return"Mid-roll";case"postroll":return"Post-roll";default:return""}},this.getClientMeasureInterface=function(){return p||((p={}).getPHT=function(){return 1e3*c},p.getBufferLength=function(){return-1},p.getSignalStrength=function(){return t.PlayerStateManager.DEFAULT_SIGNAL_STRENGTH},p.getRenderedFrameRate=function(){return t.PlayerStateManager.DEFAULT_RENDERED_FRAME_RATE},p.cleanup=function(){n=null},p)},this.destroy=function(){this.closeAndCleanupSession()},n.setClientMeasureInterface(this.getClientMeasureInterface())}!function(t,e){var n=t.AnvatoCustomPluginInterface,u=n.util,h=window.Conviva,l=function(){};function f(){n.call(this,"conviva")}f.prototype=Object.create(n.prototype),f.prototype.init=function(t,e,n){this.config=e,this.waitForProgramChange=!1,this.eventQueue=[],this.trackedPlayhead=-1;var i=e.sdk?e.sdk:"./conviva-core-sdk.js",r=this;h?this.initConvivaSDK(t,n):u.loadJS(i,"head",(function(){h=window.Conviva,r.initConvivaSDK(t,n)}))},f.prototype.initConvivaSDK=function(t,e){var n=new h.SystemSettings,u=this.config,f=e;void 0!==this.config.logLevel&&(n.logLevel=parseInt(this.config.logLevel),n.logLevel<=1&&(l=function(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];(t=console).log.apply(t,["[ConvivaPlugin]\t"].concat(n))})),n.allowUncaughtExceptions=!1,n.httpTimeout=10,n.storageTimeout=10,this.systemSettings=n,this.systemInterface=new h.SystemInterface(new o,new a,new s,new c,new r(u,"Anvato Web Player",f),new i(h)),this.systemFactory=new h.SystemFactory(this.systemInterface,this.systemSettings),this.clientSettings=new h.ClientSettings(this.config.customerKey),void 0!==this.config.heartbeatInterval&&(this.clientSettings.heartbeatInterval=parseInt(this.config.heartbeatInterval)),void 0!==u.gatewayUrl&&(this.clientSettings.gatewayUrl=u.gatewayUrl),this.client=new h.Client(this.clientSettings,this.systemFactory),this.playerStateManager=this.client.getPlayerStateManager(),this.anvatoInterface=new p(h,l,this.playerStateManager,this.client,this.config),!function(t){for(var e,n=["customerKey"],i=0;i<n.length;i++)if(!(e=n[i])||"string"!=typeof e||!e.length)return!1;return!0}(this.config)?l("Error, missing required configuration"):t()},f.prototype.sendBeacon=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[0];e[1],e[2],e[3];"PRESENTATION_UPDATED"!==i&&this.trackEvent.apply(this,e)},f.prototype.updateTime=function(t,e,n){this.trackedPlayhead=t,this.anvatoInterface.updateTime(t,e,n)},f.prototype.destroy=function(){this.anvatoInterface.destroy(),this.client.release(),this.client=null,this.systemFactory.release(),this.systemFactory=null},f.prototype.trackEvent=function(t,e,n,i){this.anvatoInterface.sendBeacon(t,e,n,i)},n.registerCustomPlugin(new f)}(window.anvp,window.localStorage)}]);